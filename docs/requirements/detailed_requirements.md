# è©³ç´°è¦ä»¶å®šç¾©æ›¸

## 1. ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³

### 1.1 ç›®çš„
æœ¬è©³ç´°è¦ä»¶å®šç¾©æ›¸ã¯ã€COCOSiLï¼ˆã‚³ã‚³ã‚·ãƒ«ï¼‰åˆ†æã‚·ã‚¹ãƒ†ãƒ ã®å…·ä½“çš„ãªæ©Ÿèƒ½ãƒ»æ€§èƒ½ãƒ»å“è³ªè¦ä»¶ã‚’è©³è¿°ã—ã€è¨­è¨ˆãƒ»é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆã®ç›´æ¥çš„ãªã‚¤ãƒ³ãƒ—ãƒƒãƒˆã¨ã—ã¦æ´»ç”¨ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚

### 1.2 èƒŒæ™¯ã¨ãƒ“ã‚¸ãƒã‚¹ã‚´ãƒ¼ãƒ«
**ç¾çŠ¶ã®èª²é¡Œ**ï¼š
- è¤‡æ•°ã®è¨ºæ–­æ‰‹æ³•ï¼ˆä½“ç™–ç†è«–ãƒ»MBTIãƒ»å‹•ç‰©å ã„ãƒ»ç®—å‘½å­¦ï¼‰ãŒå€‹åˆ¥ã«é‹ç”¨ã•ã‚Œã¦ãŠã‚Šã€çµ±åˆçš„ãªäººé–“ç†è§£ãŒå›°é›£
- ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ç³»çµ±çš„ã«ãƒ‡ãƒ¼ã‚¿åé›†ã—ã€Claude AIã‚’æ´»ç”¨ã—ãŸè¨ºæ–­ç²¾åº¦å‘ä¸Šã®ä»•çµ„ã¿ãŒä¸åœ¨
- å°‚é–€çš„ãªä½“ç™–ç†è«–ã®å­¦ç¿’æ©Ÿä¼šã¨å®Ÿè·µçš„è¨ºæ–­ã®çµ±åˆãŒä¸ååˆ†

**æœ¬ã‚·ã‚¹ãƒ†ãƒ ã§è§£æ±ºã™ã¹ãèª²é¡Œ**ï¼š
- æ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä½“ç³»çš„åé›†ã¨Claude AIå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
- 4ã¤ã®å°‚é–€ã‚µã‚¤ãƒˆé–“ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªé€£æºã«ã‚ˆã‚‹åŒ…æ‹¬çš„è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã‚’å¾¹åº•ã—ãŸå®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿç¾

### 1.3 ç”¨èªé›†ãƒ»ç•¥èª

| ç”¨èª | èª­ã¿ | å®šç¾© |
|------|------|------|
| COCOSiL | ã‚³ã‚³ã‚·ãƒ« | æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®æ­£å¼åç§°ã€‚ä½“ç™–ãƒ»MBTIãƒ»å‹•ç‰©å ã„ãƒ»ç®—å‘½å­¦ã‚’çµ±åˆã—ãŸåˆ†æã‚·ã‚¹ãƒ†ãƒ  |
| ä½“ç™– | ãŸã„ã¸ã | é‡å£æ•´ä½“ã®ç†è«–ã«åŸºã¥ã10ç¨®é¡ã®ä½“è³ªãƒ»æ€§æ ¼åˆ†é¡ã‚·ã‚¹ãƒ†ãƒ  |
| ä¸»ä½“ç™– | ã—ã‚…ãŸã„ã¸ã | æœ€ã‚‚å¼·ãç¾ã‚Œã‚‹ä½“ç™–ã®ç¨®é¡ï¼ˆ1-10ç¨®ï¼‰ |
| å‰¯ä½“ç™– | ãµããŸã„ã¸ã | äºŒç•ªç›®ã«å¼·ãç¾ã‚Œã‚‹ä½“ç™–ã®ç¨®é¡ |
| ç®—å‘½å­¦ | ã•ã‚“ã‚ã„ãŒã | ä¸­å›½ç™ºç¥¥ã®å è¡“ã€‚ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰å€‹äººã®é‹å‹¢ã‚„æ€§æ ¼ã‚’åˆ†æ |
| å‹•ç‰©å ã„ | ã©ã†ã¶ã¤ã†ã‚‰ãªã„ | ç®—å‘½å­¦ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ãŸ12ç¨®ã®å‹•ç‰©ã«ã‚ˆã‚‹æ€§æ ¼åˆ†æ |
| MBTI |  | Myers-Briggs Type Indicatorã€‚16ã‚¿ã‚¤ãƒ—ã®æ€§æ ¼é¡å‹è«– |
| OpenAI API |  | GPT-4ç­‰ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®API |
| Zustand |  | Reactç”¨ã®è»½é‡çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |

### 1.4 å‚ç…§è³‡æ–™ãƒ»é–¢é€£æ–‡æ›¸
- ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶å®šç¾©æ›¸ï¼ˆdocs/output/system_requirements.mdï¼‰
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆï¼ˆdocs/input/frontend_flowchart.mermaidï¼‰
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼ˆdocs/input/frontend_sequence.mermaidï¼‰

## 2. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“åƒ

### 2.1 ã‚·ã‚¹ãƒ†ãƒ ã‚¹ã‚³ãƒ¼ãƒ—

#### 2.1.1 IN ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆæœ¬ã‚·ã‚¹ãƒ†ãƒ ã§å®Ÿè£…ï¼‰
- **ã‚³ã‚³ã‚·ãƒ«å…¥å£ã‚µã‚¤ãƒˆ**ï¼šåŸºæœ¬æƒ…å ±åé›†ã€è¨ºæ–­çµæœçµ±åˆè¡¨ç¤ºã€Claude AIå‘ã‘ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
- **ä½“ç™–è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ **ï¼š20å•è¨ºæ–­ã€ä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ç®—å‡ºã€çµæœç”»åƒç”Ÿæˆ
- **ä½“ç™–ç†è«–å­¦ç¿’ã‚µã‚¤ãƒˆ**ï¼šä½“ç™–è«–æ•™è‚²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å­¦ç¿’æ©Ÿèƒ½
- **ç®¡ç†è€…ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ **ï¼šè¨ºæ–­ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã€çµ±è¨ˆåˆ†æã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
- **ã‚µã‚¤ãƒˆé–“é€£æºæ©Ÿèƒ½**ï¼š4ã‚µã‚¤ãƒˆé–“ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼‰**ï¼šClerkçµ±åˆã«ã‚ˆã‚‹èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘è¨ºæ–­å±¥æ­´ä¿å­˜ãƒ»AIå¯¾è©±æ©Ÿèƒ½æ‹¡å¼µï¼ˆPhase 1-3ã§æ®µéšçš„å®Ÿè£…ï¼‰

#### 2.1.2 OUT ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆæœ¬ã‚·ã‚¹ãƒ†ãƒ ã§ã¯æ‰±ã‚ãªã„ï¼‰
- **æ±ºæ¸ˆæ©Ÿèƒ½**ï¼šæ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ç„¡æ–™ã®ãŸã‚å®Ÿè£…ã—ãªã„
- **å¤šè¨€èªå¯¾å¿œ**ï¼šåˆæœŸæ®µéšã§ã¯æ—¥æœ¬èªã®ã¿
- **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª**ï¼šWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿å®Ÿè£…

### 2.2 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ã‚³ã‚³ã‚·ãƒ«å…¥å£   â”‚    â”‚   ä½“ç™–è¨ºæ–­       â”‚    â”‚  ä½“ç™–ç†è«–å­¦ç¿’   â”‚
â”‚   (Next.js)     â”‚â—„â”€â”€â–ºâ”‚   ã‚·ã‚¹ãƒ†ãƒ        â”‚â—„â”€â”€â–ºâ”‚   ã‚µã‚¤ãƒˆ        â”‚
â”‚                 â”‚    â”‚   (Next.js)      â”‚    â”‚   (Next.js)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                   â”‚
          â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ç®¡ç†è€…ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ       â”‚
â”‚         (Next.js + API)         â”‚
â”‚    â€»ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã¯ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ä¸»è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³

#### 2.3.1 ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ©ç”¨ãƒ•ãƒ­ãƒ¼
1. **ã‚³ã‚³ã‚·ãƒ«å…¥å£**ã«ã‚¢ã‚¯ã‚»ã‚¹ â†’ åŸºæœ¬æƒ…å ±å…¥åŠ›
2. **ç®—å‘½å­¦ãƒ»å‹•ç‰©å ã„**çµæœè‡ªå‹•ç®—å‡ºï¼ˆPython APIï¼‰
3. **MBTIè¨ºæ–­**å®Ÿæ–½ï¼ˆæ—¢çŸ¥ã®å ´åˆã¯é¸æŠã€æœªçŸ¥ã®å ´åˆã¯12å•è¨ºæ–­ï¼‰
4. **ä½“ç™–ç†è«–å­¦ç¿’**ï¼ˆä»»æ„ï¼‰â†’ **ä½“ç™–è¨ºæ–­**å®Ÿæ–½
5. **çµ±åˆçµæœç¢ºèª** â†’ **ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿é€ä¿¡**

#### 2.3.2 ç®¡ç†è€…ã®åˆ©ç”¨ãƒ•ãƒ­ãƒ¼
1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ **ã«ã‚¢ã‚¯ã‚»ã‚¹
2. **åé›†æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿**ã®é–²è¦§ãƒ»æ¤œç´¢
3. **çµ±è¨ˆåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ã§å‚¾å‘æŠŠæ¡
4. **Claude AIå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**ç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
5. **Excelã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**æ©Ÿèƒ½ã§ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›

## 3. åˆ©ç”¨è€…åˆ†é¡ã¨åˆ©ç”¨ã‚·ãƒŠãƒªã‚ª

### 3.1 åˆ©ç”¨è€…ãƒšãƒ«ã‚½ãƒŠ

#### 3.1.1 ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼
- **å½¹å‰²**ï¼šã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ã®ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿æä¾›è€…
- **æŠ€è¡“ãƒªãƒ†ãƒ©ã‚·ãƒ¼**ï¼šä¸€èˆ¬çš„ãªWebã‚µã‚¤ãƒˆåˆ©ç”¨å¯èƒ½ãƒ¬ãƒ™ãƒ«
- **åˆ©ç”¨é »åº¦**ï¼š1å›ã®ã¿ï¼ˆæ¤œè¨¼æœŸé–“ä¸­ï¼‰
- **ä¸»è¦ã‚´ãƒ¼ãƒ«**ï¼šè‡ªå·±ç†è§£ã®æ·±åŒ–ã€è¤‡åˆè¨ºæ–­çµæœã®å–å¾—

#### 3.1.2 ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…
- **å½¹å‰²**ï¼šåé›†ãƒ‡ãƒ¼ã‚¿ã®åˆ†æã¨Claude AIæ´»ç”¨
- **æŠ€è¡“ãƒªãƒ†ãƒ©ã‚·ãƒ¼**ï¼šExcelæ“ä½œã€Webç®¡ç†ç”»é¢æ“ä½œãŒå¯èƒ½
- **åˆ©ç”¨é »åº¦**ï¼šé€±1-2å›ç¨‹åº¦
- **ä¸»è¦ã‚´ãƒ¼ãƒ«**ï¼šè¨ºæ–­ç²¾åº¦å‘ä¸Šã®ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿åˆ†æã¨æ´»ç”¨

### 3.2 åˆ©ç”¨ã‚·ãƒŠãƒªã‚ªè©³ç´°

#### 3.2.1 æ­£å¸¸ã‚·ãƒŠãƒªã‚ªï¼šãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Œå…¨åˆ©ç”¨
```
1. ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹
2. åŸºæœ¬æƒ…å ±å…¥åŠ›ï¼ˆåå‰ãƒ»ç”Ÿå¹´æœˆæ—¥ï¼‰
3. ç®—å‘½å­¦ãƒ»å‹•ç‰©å ã„è‡ªå‹•ç®—å‡ºï¼ˆPython APIçµŒç”±ï¼‰
4. MBTIæƒ…å ±åé›†ï¼ˆæ—¢çŸ¥é¸æŠ or 12å•è¨ºæ–­ï¼‰
5. ä½“ç™–ç†è«–å­¦ç¿’ï¼ˆä»»æ„ï¼‰
6. ä½“ç™–è¨ºæ–­å®Ÿæ–½ï¼ˆ20å•ï¼‰
7. çµ±åˆçµæœè¡¨ç¤ºãƒ»ç¢ºèª
8. ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿è‡ªå‹•é€ä¿¡
9. å®Œäº†ç”»é¢è¡¨ç¤º
```

#### 3.2.2 ä¾‹å¤–ã‚·ãƒŠãƒªã‚ªï¼šéƒ¨åˆ†å®Œäº†
```
1-4. ï¼ˆæ­£å¸¸ã‚·ãƒŠãƒªã‚ªã¨åŒæ§˜ï¼‰
5. ä½“ç™–è¨ºæ–­ã‚’ã‚¹ã‚­ãƒƒãƒ—ã¾ãŸã¯ä¸­æ–­
6. åé›†æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã®ã¿ã§çµ±åˆçµæœè¡¨ç¤º
7. éƒ¨åˆ†ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ç®¡ç†è€…å‘ã‘é€ä¿¡
```

### 3.3 ã‚¨ãƒ©ãƒ¼ãƒ»ä¾‹å¤–å‡¦ç†ã‚·ãƒŠãƒªã‚ª

#### 3.3.1 ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼å¯¾å¿œ
- **Python APIã‚¨ãƒ©ãƒ¼**ï¼šç®—å‘½å­¦è¨ˆç®—å¤±æ•—æ™‚ã¯ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½æä¾›
- **OpenAI APIã‚¨ãƒ©ãƒ¼**ï¼šæ¥ç¶šå¤±æ•—æ™‚ã¯å†è©¦è¡Œãƒœã‚¿ãƒ³è¡¨ç¤º
- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã‚¨ãƒ©ãƒ¼**ï¼šãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å¾©æ—§æ©Ÿèƒ½
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼**ï¼šã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œã¨ãƒ‡ãƒ¼ã‚¿å¾©å…ƒæ©Ÿèƒ½

#### 3.3.2 å…¥åŠ›ã‚¨ãƒ©ãƒ¼å¯¾å¿œ
- **æ—¥ä»˜å…¥åŠ›ã‚¨ãƒ©ãƒ¼**ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **å¿…é ˆé …ç›®æœªå…¥åŠ›**ï¼šé …ç›®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
- **ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿å½¢å¼**ï¼šå½¢å¼ä¾‹è¡¨ç¤ºã¨ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹

## 4. æ©Ÿèƒ½è¦ä»¶

### 4.1 ã‚³ã‚³ã‚·ãƒ«å…¥å£ã‚µã‚¤ãƒˆï¼ˆF001ï¼‰

#### F001-1ï¼šåŸºæœ¬æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
**æ¦‚è¦**ï¼šãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŸºæœ¬æƒ…å ±ã‚’åé›†ã—ã€ä»–ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ

**è©³ç´°ä»•æ§˜**ï¼š

| é …ç›®å | å¿…é ˆ | ãƒ‡ãƒ¼ã‚¿å‹ | åˆ¶ç´„ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | ä¾‹ |
|--------|------|----------|------|----------------|-----|
| åå‰ | â—‹ | æ–‡å­—åˆ— | 1-50æ–‡å­— | ç©ºæ–‡å­—ãƒã‚§ãƒƒã‚¯ | å±±ç”°å¤ªéƒ |
| ç”Ÿå¹´æœˆæ—¥ï¼ˆå¹´ï¼‰ | â—‹ | æ•°å€¤ | 1900-2025 | ç¯„å›²ãƒã‚§ãƒƒã‚¯ | 1990 |
| ç”Ÿå¹´æœˆæ—¥ï¼ˆæœˆï¼‰ | â—‹ | æ•°å€¤ | 1-12 | ç¯„å›²ãƒã‚§ãƒƒã‚¯ | 5 |
| ç”Ÿå¹´æœˆæ—¥ï¼ˆæ—¥ï¼‰ | â—‹ | æ•°å€¤ | 1-31 | æœˆæ—¥æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ | 15 |

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å‰æ**ï¼šZustandåˆæœŸçŠ¶æ…‹ç¢ºèª
2. **å…¥åŠ›å—ä»˜**ï¼šReact Hook Formã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
3. **ç®—å‘½å­¦APIå‘¼ã³å‡ºã—**ï¼š`POST /api/fortune-calc` ã«å¹´æœˆæ—¥é€ä¿¡
4. **çµæœä¿å­˜**ï¼šZustandã‚¹ãƒˆã‚¢ã¨localStorageã«ä¿å­˜
5. **é€²æ—æ›´æ–°**ï¼š20% â†’ æ¬¡ç”»é¢é·ç§»

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] å¿…é ˆé …ç›®æœªå…¥åŠ›æ™‚ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- [ ] ç„¡åŠ¹ãªæ—¥ä»˜ï¼ˆ2æœˆ30æ—¥ç­‰ï¼‰ã¯ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
- [ ] ç®—å‘½å­¦APIæˆåŠŸæ™‚ã¯çµæœãŒæ­£ã—ãä¿å­˜ã•ã‚Œã‚‹
- [ ] ãƒšãƒ¼ã‚¸æ›´æ–°æ™‚ã‚‚Zustandã‹ã‚‰çŠ¶æ…‹å¾©å…ƒã•ã‚Œã‚‹

#### F001-2ï¼šMBTIæƒ…å ±åé›†
**æ¦‚è¦**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®MBTIæƒ…å ±ã‚’æ—¢çŸ¥é¸æŠã¾ãŸã¯ç°¡æ˜“è¨ºæ–­ã§å–å¾—

**è©³ç´°ä»•æ§˜**ï¼š

**æ—¢çŸ¥é¸æŠãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š
- 16ã‚¿ã‚¤ãƒ—ã‹ã‚‰ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³é¸æŠ
- å„ã‚¿ã‚¤ãƒ—ã®ç‰¹å¾´ã‚’ç°¡æ½”ã«è¡¨ç¤º

**ç°¡æ˜“è¨ºæ–­ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š
- 12å•ã®Y/Nè³ªå•å½¢å¼
- å„è³ªå•ã¯E/Iã€S/Nã€T/Fã€J/Pã®4è»¸ã‚’åˆ¤å®š
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§çµæœç®—å‡º

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å‰æ**ï¼šåŸºæœ¬æƒ…å ±å…¥åŠ›å®Œäº†æ¸ˆã¿
2. **åˆ†å²åˆ¤å®š**ï¼šã€Œæ—¢çŸ¥ã€ã€Œè¨ºæ–­å¸Œæœ›ã€ãƒœã‚¿ãƒ³é¸æŠ
3. **æ—¢çŸ¥ã®å ´åˆ**ï¼šãƒ—ãƒ«ãƒ€ã‚¦ãƒ³é¸æŠ â†’ Zustandä¿å­˜
4. **è¨ºæ–­ã®å ´åˆ**ï¼š12å•å›ç­” â†’ ç®—å‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè¡Œ â†’ çµæœä¿å­˜
5. **é€²æ—æ›´æ–°**ï¼š40% â†’ æ¬¡ç”»é¢é·ç§»

**MBTIç®—å‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **ï¼š
```javascript
function calculateMBTI(answers) {
  const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
  
  // å„è³ªå•ã®å›ç­”ã‚’ã‚¹ã‚³ã‚¢ã«åæ˜ 
  answers.forEach((answer, index) => {
    const dimension = questionMappings[index];
    if (answer === 'YES') {
      scores[dimension.positive]++;
    } else {
      scores[dimension.negative]++;
    }
  });
  
  // å„è»¸ã§å„ªä½ãªæ–¹ã‚’é¸æŠ
  const result = '';
  result += scores.E > scores.I ? 'E' : 'I';
  result += scores.S > scores.N ? 'S' : 'N';
  result += scores.T > scores.F ? 'T' : 'F';
  result += scores.J > scores.P ? 'J' : 'P';
  
  return result;
}
```

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] æ—¢çŸ¥é¸æŠæ™‚ã¯16ã‚¿ã‚¤ãƒ—ã™ã¹ã¦é¸æŠå¯èƒ½
- [ ] 12å•è¨ºæ–­å®Ÿæ–½æ™‚ã¯æ­£ã—ã„MBTIã‚¿ã‚¤ãƒ—ãŒç®—å‡ºã•ã‚Œã‚‹
- [ ] è¨ºæ–­ä¸­æ–­æ™‚ã¯ã€Œæ—¢çŸ¥é¸æŠã€ã«æˆ»ã‚Œã‚‹
- [ ] MBTIçµæœã¯Zustandã¨localStorageã«ä¿å­˜ã•ã‚Œã‚‹

#### F001-3ï¼šçµ±åˆçµæœè¡¨ç¤ºãƒ»ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
**æ¦‚è¦**ï¼šåé›†ã—ãŸå…¨ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆè¡¨ç¤ºã—ã€ç®¡ç†è€…å‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«(.md)ã‚’ç”Ÿæˆ

**è©³ç´°ä»•æ§˜**ï¼š

**è¡¨ç¤ºé …ç›®**ï¼š
- åŸºæœ¬æƒ…å ±ï¼ˆåå‰ãƒ»ç”Ÿå¹´æœˆæ—¥ãƒ»å¹´é½¢ï¼‰
- ç®—å‘½å­¦çµæœï¼ˆåäºŒæ”¯ãƒ»å…­æ˜Ÿå è¡“ç­‰ï¼‰
- å‹•ç‰©å ã„çµæœ
- MBTIçµæœ
- ä½“ç™–çµæœï¼ˆå®Ÿæ–½æ¸ˆã¿ã®å ´åˆï¼‰
- ç›¸è«‡å†…å®¹(æ·±æ˜ã‚Šè³ªå•ãƒãƒ£ãƒƒãƒˆã®è¦ç´„)

**ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿å½¢å¼**ï¼š
```markdown
# COCOSiLè¨ºæ–­ãƒ‡ãƒ¼ã‚¿

## åŸºæœ¬æƒ…å ±
- åå‰: [ãƒ¦ãƒ¼ã‚¶ãƒ¼å]
- ç”Ÿå¹´æœˆæ—¥: [YYYYå¹´MMæœˆDDæ—¥] ([å¹´é½¢]æ­³)
- è¨ºæ–­å®Ÿæ–½æ—¥: [YYYY-MM-DD HH:MM]

## è¨ºæ–­çµæœã‚µãƒãƒªãƒ¼
- æ˜Ÿåº§: [çµæœ]
- å‹•ç‰©å ã„: [çµæœ]
- MBTI: [çµæœ]
- ä½“ç™–: [ä¸»ä½“ç™–Xç¨®ãƒ»å‰¯ä½“ç™–Yç¨®]

## Claude AIå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
ã“ã®äººç‰©ã®è¨ºæ–­çµæœã‚’è¸ã¾ãˆã¦ã€ä»¥ä¸‹ã®è¦³ç‚¹ã‹ã‚‰åˆ†æã—ã¦ãã ã•ã„ï¼š
[è¨ºæ–­çµæœã«åŸºã¥ãåˆ†æè¦³ç‚¹ã®è‡ªå‹•ç”Ÿæˆ]

## ç”Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰
[JSONå½¢å¼ã®å…¨ãƒ‡ãƒ¼ã‚¿]
```

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å‰æ**ï¼šå…¨è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ãŒZustandã«ä¿å­˜æ¸ˆã¿
2. **ãƒ‡ãƒ¼ã‚¿çµ±åˆ**ï¼šå„è¨ºæ–­çµæœã‚’çµ±åˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«çµ±åˆ
3. **Markdownãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§.mdæ–‡å­—åˆ—ç”Ÿæˆ
4. **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º**ï¼šç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤º
5. **é€ä¿¡å‡¦ç†**ï¼š`POST /api/admin-submit`ã§ã‚µãƒ¼ãƒãƒ¼é€ä¿¡
6. **å®Œäº†é€šçŸ¥**ï¼šé€ä¿¡æˆåŠŸæ™‚ã¯ç®¡ç†è€…å‘ã‘ã‚¢ã‚¯ã‚»ã‚¹æƒ…å ±è¡¨ç¤º

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] çµ±åˆçµæœã«å…¨è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] .mdãƒ•ã‚¡ã‚¤ãƒ«ãŒé©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ç”Ÿæˆã•ã‚Œã‚‹
- [ ] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã§å†…å®¹ç¢ºèªå¯èƒ½
- [ ] ç®¡ç†è€…å‘ã‘ã‚µãƒ¼ãƒãƒ¼ã¸ã®é€ä¿¡ãŒæˆåŠŸã™ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹

### 4.2 ä½“ç™–è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ ï¼ˆF002ï¼‰

#### F002-1ï¼šä½“ç™–è¨ºæ–­ãƒ•ãƒ­ãƒ¼ï¼ˆ20å•å½¢å¼ï¼‰
**æ¦‚è¦**ï¼š20å•ã®è³ªå•ã«ã‚ˆã‚Šä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ã‚’ç²¾å¯†ã«ç®—å‡º

**è©³ç´°ä»•æ§˜**ï¼š

**è³ªå•å½¢å¼**ï¼š
- å„è³ªå•ã¯4æŠé¸æŠå¼
- é¸æŠè‚¢ã«ã¯ãã‚Œãã‚Œä½“ç™–ã‚¿ã‚¤ãƒ—ï¼ˆ1-10ç¨®ï¼‰ãŒå¯¾å¿œ
- é€²æ—ãƒãƒ¼è¡¨ç¤ºï¼ˆ1/20 â†’ 20/20ï¼‰

**ä¾‹è³ªå•**ï¼š
```
Q1. ã‚ãªãŸã®ä½“ã®ç‰¹å¾´ã¨ã—ã¦æœ€ã‚‚å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã¯ï¼Ÿ
A. é ­ãŒå¤§ããã€ä½“å…¨ä½“ãŒã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹ (1ç¨®)
B. å·¦å³å‡ç­‰ã§ã€ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„ä½“å‹ (2ç¨®)
C. ä¸ŠåŠèº«ãŒç™ºé”ã—ã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ (3ç¨®)
D. ä¸‹åŠèº«ãŒå®‰å®šã—ã€ã©ã£ã—ã‚Šã—ã¦ã„ã‚‹ (4ç¨®)
```

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å‰æ**ï¼šä½“ç™–ç†è«–å­¦ç¿’å®Œäº†ã¾ãŸã¯è¨ºæ–­ç›´æ¥é·ç§»
2. **è³ªå•è¡¨ç¤º**ï¼šç¾åœ¨ã®å•é¡Œç•ªå·ã¨é€²æ—è¡¨ç¤º
3. **å›ç­”è¨˜éŒ²**ï¼šé¸æŠè‚¢ã«å¯¾å¿œã™ã‚‹ä½“ç™–ç•ªå·ã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
4. **æ¬¡å•é·ç§»**ï¼šå›ç­”å¾Œ0.5ç§’ã§æ¬¡ã®è³ªå•ã«è‡ªå‹•é·ç§»
5. **çµæœç®—å‡º**ï¼š20å•å®Œäº†æ™‚ã«ä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ã‚’ç®—å‡º

**ä½“ç™–ç®—å‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **ï¼š
```javascript
function calculateTaiheki(answers) {
  const scores = Array(11).fill(0); // 1-10ç¨®ã®ã‚¹ã‚³ã‚¢é…åˆ—
  
  // å„å›ç­”ã‚’ã‚¹ã‚³ã‚¢ã«åŠ ç®—ï¼ˆé‡ã¿ä»˜ã‘è€ƒæ…®ï¼‰
  answers.forEach((answer, questionIndex) => {
    const weights = questionWeights[questionIndex];
    scores[answer.taihekiType] += weights[answer.choice];
  });
  
  // æœ€é«˜å¾—ç‚¹ã‚’ä¸»ä½“ç™–ã€2ç•ªç›®ã‚’å‰¯ä½“ç™–ã¨ã™ã‚‹
  const sortedIndices = scores
    .map((score, index) => ({ score, index }))
    .filter(item => item.index > 0) // 0ç•ªç›®ã¯é™¤å¤–
    .sort((a, b) => b.score - a.score);
  
  return {
    primary: sortedIndices[0].index,
    secondary: sortedIndices[1].index,
    scores: scores
  };
}
```

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] 20å•ã™ã¹ã¦ãŒé †åºé€šã‚Šè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å„è³ªå•ã§4æŠé¸æŠãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- [ ] é€²æ—ãƒãƒ¼ãŒæ­£ç¢ºã«æ›´æ–°ã•ã‚Œã‚‹
- [ ] ç®—å‡ºã•ã‚ŒãŸä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ãŒç†è«–çš„ã«å¦¥å½“ã§ã‚ã‚‹

#### F002-2ï¼šè¨ºæ–­çµæœè©³ç´°è¡¨ç¤º
**æ¦‚è¦**ï¼šç®—å‡ºã•ã‚ŒãŸä½“ç™–çµæœã®è©³ç´°ãªè§£èª¬ã¨ç‰¹å¾´ã‚’è¡¨ç¤º

**è¡¨ç¤ºå†…å®¹**ï¼š
- **åŸºæœ¬æƒ…å ±**ï¼šä¸»ä½“ç™–Xç¨®ãƒ»å‰¯ä½“ç™–Yç¨®
- **ä½“å‹ç‰¹å¾´**ï¼šèº«ä½“çš„ç‰¹å¾´ã®èª¬æ˜
- **æ€§æ ¼ç‰¹å¾´**ï¼šè¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»æ€è€ƒå‚¾å‘
- **é©è·ãƒ»å‘ã„ã¦ã„ã‚‹ç’°å¢ƒ**
- **æ³¨æ„ç‚¹ãƒ»æ”¹å–„ã‚¢ãƒ‰ãƒã‚¤ã‚¹**
- **ä»–ã®ä½“ç™–ã¨ã®ç›¸æ€§**

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å‰æ**ï¼šä½“ç™–ç®—å‡ºå®Œäº†
2. **ãƒ‡ãƒ¼ã‚¿å–å¾—**ï¼šä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ã®è©³ç´°æƒ…å ±ã‚’JSONã‹ã‚‰å–å¾—
3. **çµ„ã¿åˆã‚ã›è§£æ**ï¼šä¸»+å‰¯ã®çµ„ã¿åˆã‚ã›ç‰¹æœ‰ã®ç‰¹å¾´ã‚’ç®—å‡º
4. **è¡¨ç¤ºç”Ÿæˆ**ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«è¨ºæ–­çµæœã‚’åŸ‹ã‚è¾¼ã¿
5. **ç”»åƒç”Ÿæˆæº–å‚™**ï¼šçµæœç”»åƒç”Ÿæˆç”¨ãƒ‡ãƒ¼ã‚¿æº–å‚™

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] ä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ã®ç‰¹å¾´ãŒæ­£ç¢ºã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] çµ„ã¿åˆã‚ã›ç‰¹æœ‰ã®è§£èª¬ãŒå«ã¾ã‚Œã‚‹
- [ ] ã™ã¹ã¦ã®è§£èª¬é …ç›®ãŒæ¼ã‚Œãªãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] èª­ã¿ã‚„ã™ã„å½¢å¼ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã•ã‚Œã‚‹

#### F002-3ï¼šçµæœç”»åƒç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
**æ¦‚è¦**ï¼šè¨ºæ–­çµæœã‚’ç”»åƒåŒ–ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã«ã™ã‚‹

**ç”»åƒä»•æ§˜**ï¼š
- **ã‚µã‚¤ã‚º**ï¼š1200x630pxï¼ˆSNSã‚·ã‚§ã‚¢æœ€é©ã‚µã‚¤ã‚ºï¼‰
- **å½¢å¼**ï¼šPNG
- **å†…å®¹**ï¼šä½“ç™–ã‚¿ã‚¤ãƒ—ã€ç‰¹å¾´è¦ç´„ã€QRã‚³ãƒ¼ãƒ‰ï¼ˆè©³ç´°URLï¼‰

**å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å‰æ**ï¼šè¨ºæ–­çµæœè¡¨ç¤ºå®Œäº†
2. **Canvasç”Ÿæˆ**ï¼šHTML5 Canvasã‚’ä½¿ç”¨
3. **ãƒ†ã‚­ã‚¹ãƒˆæç”»**ï¼šä½“ç™–çµæœã¨ç‰¹å¾´è¦ç´„ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
4. **QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ**ï¼šè©³ç´°çµæœURLã®QRã‚³ãƒ¼ãƒ‰æŒ¿å…¥
5. **ç”»åƒå¤‰æ›**ï¼šCanvasã‹ã‚‰PNGãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
6. **ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ï¼šãƒ–ãƒ©ã‚¦ã‚¶ã®downloadæ©Ÿèƒ½ã§ä¿å­˜

**å®Ÿè£…ä¾‹**ï¼š
```javascript
function generateResultImage(taihekiResult) {
  const canvas = document.createElement('canvas');
  canvas.width = 1200;
  canvas.height = 630;
  const ctx = canvas.getContext('2d');
  
  // èƒŒæ™¯æç”»
  ctx.fillStyle = '#f0f8ff';
  ctx.fillRect(0, 0, 1200, 630);
  
  // ã‚¿ã‚¤ãƒˆãƒ«æç”»
  ctx.fillStyle = '#333';
  ctx.font = 'bold 48px "Noto Sans JP"';
  ctx.fillText(`ã‚ãªãŸã®ä½“ç™–ï¼š${taihekiResult.primary}ç¨®`, 100, 100);
  
  // ç‰¹å¾´æç”»
  ctx.font = '32px "Noto Sans JP"';
  ctx.fillText(taihekiResult.features, 100, 200);
  
  // QRã‚³ãƒ¼ãƒ‰æŒ¿å…¥
  const qrCode = generateQRCode(window.location.href);
  ctx.drawImage(qrCode, 1000, 450, 150, 150);
  
  return canvas.toDataURL('image/png');
}
```

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] 1200x630pxã®PNGç”»åƒãŒç”Ÿæˆã•ã‚Œã‚‹
- [ ] ä½“ç™–çµæœãŒç”»åƒå†…ã«æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] QRã‚³ãƒ¼ãƒ‰ã‹ã‚‰è©³ç´°ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- [ ] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œã™ã‚‹

### 4.3 ä½“ç™–ç†è«–å­¦ç¿’ã‚µã‚¤ãƒˆï¼ˆF003ï¼‰

#### F003-1ï¼šä½“ç™–è«–åŸºæœ¬ç†è«–è§£èª¬
**æ¦‚è¦**ï¼šä½“ç™–ç†è«–ã®åŸºç¤æ¦‚å¿µã‚’æ®µéšçš„ã«å­¦ç¿’ã§ãã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„

**å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹æˆ**ï¼š
1. **ä½“ç™–ã¨ã¯**ï¼šé‡å£æ•´ä½“ã«ãŠã‘ã‚‹ä½ç½®ã¥ã‘
2. **10ç¨®é¡ã®ä½“ç™–**ï¼šå„ã‚¿ã‚¤ãƒ—ã®åŸºæœ¬æ¦‚å¿µ
3. **ä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–**ï¼šçµ„ã¿åˆã‚ã›ã®è€ƒãˆæ–¹
4. **ä½“ç™–ã®æ´»ç”¨æ³•**ï¼šæ—¥å¸¸ç”Ÿæ´»ã§ã®å¿œç”¨æ–¹æ³•
5. **è¨ºæ–­ã®æ„ç¾©**ï¼šè‡ªå·±ç†è§£ã®æ·±åŒ–ã«ã¤ã„ã¦

**ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ **ï¼š
- ç†è§£åº¦ãƒã‚§ãƒƒã‚¯ï¼ˆé€²æ—è¡¨ç¤ºï¼‰
- é–¢é€£ã™ã‚‹ä½“ç™–ã‚¿ã‚¤ãƒ—ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- ç”¨èªé›†ã¸ã®ãƒªãƒ³ã‚¯

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] å…¨5ç« ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒé †åºé€šã‚Šè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] é€²æ—çŠ¶æ³ãŒè¦–è¦šçš„ã«åˆ†ã‹ã‚‹
- [ ] ä½“ç™–è¨ºæ–­ã¸ã®å°ç·šãŒé©åˆ‡ã«é…ç½®ã•ã‚Œã‚‹

#### F003-2ï¼š10ç¨®ä½“ç™–è©³ç´°è§£èª¬
**æ¦‚è¦**ï¼šå„ä½“ç™–ã‚¿ã‚¤ãƒ—ã®è©³ç´°ãªç‰¹å¾´ãƒ»å‚¾å‘ã‚’å­¦ç¿’

**å„ä½“ç™–ã®è§£èª¬é …ç›®**ï¼š
- **åŸºæœ¬ç‰¹å¾´**ï¼šä½“å‹ãƒ»æ€§æ ¼ã®ç‰¹å¾´
- **é•·æ‰€ãƒ»çŸ­æ‰€**ï¼šå„ªã‚Œã¦ã„ã‚‹ç‚¹ã¨æ³¨æ„ç‚¹
- **è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼šå…¸å‹çš„ãªè¡Œå‹•ä¾‹
- **é©è·ãƒ»ç’°å¢ƒ**ï¼šå‘ã„ã¦ã„ã‚‹è·æ¥­ã‚„ç’°å¢ƒ
- **æ”¹å–„ã‚¢ãƒ‰ãƒã‚¤ã‚¹**ï¼šæˆé•·ã®ãŸã‚ã®ãƒ’ãƒ³ãƒˆ
- **æœ‰åäººä¾‹**ï¼šç†è§£ä¿ƒé€²ã®ãŸã‚ã®å‚è€ƒäººç‰©

**è¡¨ç¤ºå½¢å¼**ï¼š
- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆå¼ï¼ˆ1ç¨®ã€œ10ç¨®ï¼‰
- å„ã‚¿ã‚¤ãƒ—å°‚ç”¨ã®ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ
- å›³è§£ãƒ»ã‚¤ãƒ©ã‚¹ãƒˆã«ã‚ˆã‚‹è¦–è¦šçš„èª¬æ˜
- æ¯”è¼ƒè¡¨ã«ã‚ˆã‚‹ä»–ã‚¿ã‚¤ãƒ—ã¨ã®é•ã„

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] 10ç¨®ã™ã¹ã¦ã®ä½“ç™–è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- [ ] å„ã‚¿ã‚¤ãƒ—ã®ç‰¹å¾´ãŒåˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã•ã‚Œã‚‹
- [ ] è¦–è¦šçš„è¦ç´ ï¼ˆè‰²ãƒ»å›³ï¼‰ãŒåŠ¹æœçš„ã«ä½¿ç”¨ã•ã‚Œã‚‹

### 4.4 ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆF004ï¼‰

#### F004-1ï¼šè¨ºæ–­è¨˜éŒ²ä¸€å…ƒç®¡ç†
**æ¦‚è¦**ï¼šåé›†ã—ãŸè¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã®æ¤œç´¢ãƒ»é–²è¦§ãƒ»ç®¡ç†æ©Ÿèƒ½

**ãƒ‡ãƒ¼ã‚¿ç®¡ç†æ©Ÿèƒ½**ï¼š
- **ä¸€è¦§è¡¨ç¤º**ï¼šåé›†ãƒ‡ãƒ¼ã‚¿ã®è¡¨å½¢å¼è¡¨ç¤º
- **æ¤œç´¢æ©Ÿèƒ½**ï¼šåå‰ãƒ»æ—¥ä»˜ãƒ»ä½“ç™–ã‚¿ã‚¤ãƒ—ã«ã‚ˆã‚‹æ¤œç´¢
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**ï¼šè¨ºæ–­å®Œäº†çŠ¶æ³ãƒ»ãƒ‡ãƒ¼ã‚¿å“è³ªã«ã‚ˆã‚‹çµã‚Šè¾¼ã¿
- **è©³ç´°è¡¨ç¤º**ï¼šå€‹åˆ¥ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°é–²è¦§
- **ãƒ‡ãƒ¼ã‚¿å‰Šé™¤**ï¼šå€‹äººæƒ…å ±ä¿è­·ã®ãŸã‚ã®å‰Šé™¤æ©Ÿèƒ½

**è¡¨ç¤ºé …ç›®**ï¼š
| é …ç›® | è¡¨ç¤ºå½¢å¼ | ã‚½ãƒ¼ãƒˆ | æ¤œç´¢å¯¾è±¡ |
|------|----------|--------|----------|
| è¨ºæ–­ID | DGN-YYYYMMDD-XXX | â—‹ | â—‹ |
| å®Ÿæ–½æ—¥æ™‚ | YYYY/MM/DD HH:MM | â—‹ | â—‹ |
| åå‰ | æ–‡å­—åˆ— | â—‹ | â—‹ |
| å¹´é½¢ | æ•°å€¤ | â—‹ | â—‹ |
| MBTI | 4æ–‡å­— | â—‹ | â—‹ |
| ä¸»ä½“ç™– | Xç¨® | â—‹ | â—‹ |
| å‰¯ä½“ç™– | Yç¨® | â—‹ | â—‹ |
| å®Œäº†çŠ¶æ³ | å®Œäº†/éƒ¨åˆ† | â—‹ | â—‹ |

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] åé›†ãƒ‡ãƒ¼ã‚¿ãŒè¡¨å½¢å¼ã§ä¸€è¦§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å„é …ç›®ã§ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹
- [ ] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒæ­£ç¢ºã«å‹•ä½œã™ã‚‹
- [ ] è©³ç´°è¡¨ç¤ºã§å…¨ãƒ‡ãƒ¼ã‚¿ãŒç¢ºèªã§ãã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿å‰Šé™¤æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œã™ã‚‹

#### F004-2ï¼šçµ±è¨ˆåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
**æ¦‚è¦**ï¼šåé›†ãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆåˆ†æã¨ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤º

**åˆ†æé …ç›®**ï¼š
1. **åŸºæœ¬çµ±è¨ˆ**
   - ç·è¨ºæ–­æ•°
   - å®Œäº†ç‡ï¼ˆå®Œäº†/é–‹å§‹ï¼‰
   - å¹³å‡æ‰€è¦æ™‚é–“
   - æ—¥åˆ¥å®Ÿæ–½æ•°

2. **ä½“ç™–åˆ†å¸ƒ**
   - ä¸»ä½“ç™–ã®åˆ†å¸ƒï¼ˆ1ã€œ10ç¨®ï¼‰
   - å‰¯ä½“ç™–ã®åˆ†å¸ƒ
   - çµ„ã¿åˆã‚ã›é »åº¦TOP10

3. **MBTIåˆ†å¸ƒ**
   - 16ã‚¿ã‚¤ãƒ—åˆ†å¸ƒ
   - 4è»¸åˆ¥åˆ†å¸ƒï¼ˆE/I, S/N, T/F, J/Pï¼‰

4. **ã‚¯ãƒ­ã‚¹åˆ†æ**
   - ä½“ç™–Ã—MBTIç›¸é–¢åˆ†æ
   - å¹´ä»£åˆ¥å‚¾å‘
   - å­£ç¯€æ€§åˆ†æ

**è¡¨ç¤ºå½¢å¼**ï¼š
- å††ã‚°ãƒ©ãƒ•ï¼šåˆ†å¸ƒç³»ãƒ‡ãƒ¼ã‚¿
- æ£’ã‚°ãƒ©ãƒ•ï¼šæ¯”è¼ƒç³»ãƒ‡ãƒ¼ã‚¿  
- ç·šã‚°ãƒ©ãƒ•ï¼šæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿
- ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ï¼šç›¸é–¢åˆ†æ

**å®Ÿè£…æŠ€è¡“**ï¼š
- Chart.js ã¾ãŸã¯ Recharts ã«ã‚ˆã‚‹ã‚°ãƒ©ãƒ•æç”»
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆãƒ‡ãƒ¼ã‚¿è¿½åŠ æ™‚ï¼‰
- CSV/PNG ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] åŸºæœ¬çµ±è¨ˆãŒæ­£ç¢ºã«ç®—å‡ºãƒ»è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å„ç¨®åˆ†å¸ƒã‚°ãƒ©ãƒ•ãŒæ­£ã—ãæç”»ã•ã‚Œã‚‹
- [ ] ã‚¯ãƒ­ã‚¹åˆ†æçµæœãŒå¦¥å½“ã§ã‚ã‚‹
- [ ] ã‚°ãƒ©ãƒ•ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹

#### F004-3ï¼šClaude AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆæ©Ÿèƒ½
**æ¦‚è¦**ï¼šåé›†ãƒ‡ãƒ¼ã‚¿ã‚’åŸºã«Claude AIå‘ã‘æœ€é©ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ

**ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯**ï¼š
1. **å€‹åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ**
```markdown
# å€‹äººåˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

ã‚ãªãŸã¯ä½“ç™–ç†è«–ãƒ»MBTIãƒ»ç®—å‘½å­¦ã®å°‚é–€å®¶ã§ã™ã€‚ä»¥ä¸‹ã®è¨ºæ–­çµæœã‹ã‚‰ã€ã“ã®äººç‰©ã®ç‰¹å¾´ãƒ»å‚¾å‘ãƒ»é©è·ã«ã¤ã„ã¦åˆ†æã—ã¦ãã ã•ã„ã€‚

## è¨ºæ–­ãƒ‡ãƒ¼ã‚¿
- å¹´é½¢: [å¹´é½¢]æ­³
- MBTI: [MBTIçµæœ] 
- ä½“ç™–: ä¸»ä½“ç™–[X]ç¨®ãƒ»å‰¯ä½“ç™–[Y]ç¨®
- ç®—å‘½å­¦: [ç®—å‘½å­¦çµæœ]
- å‹•ç‰©å ã„: [å‹•ç‰©å ã„çµæœ]

## åˆ†æè¦³ç‚¹
1. æ€§æ ¼ç‰¹å¾´ã®çµ±åˆåˆ†æï¼ˆå„è¨ºæ–­æ‰‹æ³•ã®å…±é€šç‚¹ãƒ»ç›¸é•ç‚¹ï¼‰
2. å¼·ã¿ãƒ»å¼±ã¿ã®æ•´ç†
3. é©è·ãƒ»ã‚­ãƒ£ãƒªã‚¢ææ¡ˆ
4. äººé–“é–¢ä¿‚ã§ã®ç‰¹å¾´
5. æˆé•·ã®ãŸã‚ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹

## å‡ºåŠ›å½¢å¼
- ç°¡æ½”ã§å®Ÿç”¨çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹
- æ ¹æ‹ ã‚’æ˜ç¢ºã«ã—ãŸåˆ†æ
- æœ¬äººãŒç´å¾—ã§ãã‚‹è¡¨ç¾
```

2. **çµ±è¨ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ**
```markdown
# çµ±è¨ˆåˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

COCOSiLã‚·ã‚¹ãƒ†ãƒ ã§åé›†ã—ãŸ[N]ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€ä»¥ä¸‹ã®å‚¾å‘åˆ†æã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

## çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
[çµ±è¨ˆã‚µãƒãƒªãƒ¼JSONã‚’æŒ¿å…¥]

## åˆ†æä¾é ¼
1. ä½“ç™–Ã—MBTI ã®ç›¸é–¢æ€§åˆ†æ
2. è¨ºæ–­ç²¾åº¦å‘ä¸Šã®ãŸã‚ã®ä»®èª¬ææ¡ˆ
3. è¿½åŠ åé›†ã™ã¹ããƒ‡ãƒ¼ã‚¿é …ç›®ã®ææ¡ˆ
4. ã‚·ã‚¹ãƒ†ãƒ æ”¹å–„ç‚¹ã®æŒ‡æ‘˜

## æœŸå¾…ã™ã‚‹å‡ºåŠ›
- ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªæ”¹å–„ææ¡ˆ
- çµ±è¨ˆçš„ã«æœ‰æ„ãªå‚¾å‘ã®æŠ½å‡º
- æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã§ã®æ¤œè¨¼é …ç›®
```

**ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†æ©Ÿèƒ½**ï¼š
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†æ©Ÿèƒ½
- ç”Ÿæˆå±¥æ­´ã®ä¿å­˜
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- ä¸€æ‹¬ç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] å€‹åˆ¥ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰é©åˆ‡ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹
- [ ] çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæ­£ç¢ºã«ç”Ÿæˆã•ã‚Œã‚‹
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†ãŒå¯èƒ½ã§ã‚ã‚‹
- [ ] ç”Ÿæˆçµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹

### 4.5 ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ï¼ˆF005ï¼‰

**æ¦‚è¦**ï¼šClerkèªè¨¼ã‚’æ®µéšçš„ã«çµ±åˆã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šä¿å­˜ã€å±¥æ­´é–²è¦§ã€é«˜åº¦ãªAIæ©Ÿèƒ½ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚æ—¢å­˜ã®åŒ¿åè¨ºæ–­ãƒ•ãƒ­ãƒ¼ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆã‚’ç¶­æŒã—ã¤ã¤ã€èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä»˜åŠ ä¾¡å€¤ã‚’æä¾›ã™ã‚‹**ã‚ªãƒ—ãƒˆã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«**ã‚’æ¡ç”¨ã—ã¾ã™ã€‚

**ä¸»è¦æ–¹é‡**ï¼š
- âœ… **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ å½±éŸ¿æœ€å°åŒ–**: ç®¡ç†è€…èªè¨¼ï¼ˆJWT + 4æ¡PINï¼‰ã¯å®Œå…¨ç¶­æŒ
- âœ… **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆç¶™ç¶š**: åŒ¿åè¨ºæ–­ãƒ•ãƒ­ãƒ¼ç¶™ç¶šã€30æ—¥è‡ªå‹•å‰Šé™¤ãƒãƒªã‚·ãƒ¼å …æŒ
- âœ… **æ®µéšçš„ä¾¡å€¤æä¾›**: Phase 1ï¼ˆèªè¨¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰â†’ Phase 2ï¼ˆå±¥æ­´ï¼‰â†’ Phase 3ï¼ˆé«˜åº¦æ©Ÿèƒ½ï¼‰
- âœ… **æŠ€è¡“è² å‚µæœ€å°åŒ–**: Clerkãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«æº–æ‹ ã€ä¿å®ˆæ€§ã®é«˜ã„è¨­è¨ˆ

**å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º**ï¼š
- **Phase 1**ï¼ˆ2é€±é–“ï¼‰ï¼šèªè¨¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ ãƒ»åŸºæœ¬æƒ…å ±è‡ªå‹•å…¥åŠ›
- **Phase 2**ï¼ˆ2é€±é–“ï¼‰ï¼šè¨ºæ–­å±¥æ­´æ©Ÿèƒ½ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒãƒ¼ä¿å­˜
- **Phase 3**ï¼ˆ3é€±é–“ï¼‰ï¼šé«˜åº¦æ©Ÿèƒ½ï¼ˆAIå¯¾è©±å±¥æ­´ã€å­¦ç¿’é€²æ—åŒæœŸã€Webhook/Cronå‰Šé™¤ï¼‰

#### F005-1ï¼šèªè¨¼é¸æŠç”»é¢

**æ¦‚è¦**ï¼šè¨ºæ–­é–‹å§‹æ™‚ã«ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã€ã€Œã‚µã‚¤ãƒ³ã‚¤ãƒ³ã€ã€ŒåŒ¿åã§ç¶šè¡Œã€ã®3æŠã‚’æä¾›

**ç”»é¢æ§‹æˆ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COCOSiL è¨ºæ–­ã‚’å§‹ã‚ã‚‹                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦å§‹ã‚ã‚‹]          â”‚
â”‚   â†’ è¨ºæ–­çµæœã‚’ä¿å­˜ãƒ»å±¥æ­´é–²è¦§å¯èƒ½         â”‚
â”‚                                        â”‚
â”‚  [âœ… ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ã¦å§‹ã‚ã‚‹]                â”‚
â”‚   â†’ æ—¢å­˜ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ç¶šã‘ã‚‹               â”‚
â”‚                                        â”‚
â”‚  [ğŸ‘¤ åŒ¿åã§ç¶šã‘ã‚‹]                       â”‚
â”‚   â†’ 30æ—¥é–“ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½è¦ä»¶**ï¼š
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¨ºæ–­é–‹å§‹å‰ã«èªè¨¼æ–¹å¼ã‚’é¸æŠå¯èƒ½
- ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã€â†’ Clerk SignUp UI ã¸é·ç§»
- ã€Œã‚µã‚¤ãƒ³ã‚¤ãƒ³ã€â†’ Clerk SignIn UI ã¸é·ç§»
- ã€ŒåŒ¿åã§ç¶šè¡Œã€â†’ æ—¢å­˜ãƒ•ãƒ­ãƒ¼ï¼ˆlocalStorageä¿å­˜ï¼‰

**å®Ÿè£…è©³ç´°**ï¼š
- **å®Ÿè£…å ´æ‰€**ï¼š`src/app/diagnosis/page.tsx`ï¼ˆè¨ºæ–­ãƒˆãƒƒãƒ—ï¼‰
- **çŠ¶æ…‹ç®¡ç†**ï¼šZustand `useDiagnosisStore` ã« `authMode: 'authenticated' | 'anonymous'` ã‚’è¿½åŠ 
- **UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**ï¼š`src/ui/features/diagnosis/auth-choice-screen.tsx`ï¼ˆæ–°è¦ä½œæˆï¼‰

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] èªè¨¼é¸æŠç”»é¢ãŒè¨ºæ–­é–‹å§‹å‰ã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã€ãƒœã‚¿ãƒ³ã§Clerk SignUpãƒšãƒ¼ã‚¸ã¸é·ç§»
- [ ] ã€Œã‚µã‚¤ãƒ³ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã§Clerk SignInãƒšãƒ¼ã‚¸ã¸é·ç§»
- [ ] ã€ŒåŒ¿åã§ç¶šè¡Œã€ãƒœã‚¿ãƒ³ã§æ—¢å­˜è¨ºæ–­ãƒ•ãƒ­ãƒ¼ãŒé–‹å§‹
- [ ] é¸æŠã—ãŸèªè¨¼æ–¹å¼ãŒZustandã‚¹ãƒˆã‚¢ã«ä¿å­˜ã•ã‚Œã‚‹

#### F005-2ï¼šClerkçµ±åˆï¼ˆSignIn/SignUpï¼‰

**æ¦‚è¦**ï¼šClerkèªè¨¼ã‚’ Next.js 14 App Router + Middleware ã§çµ±åˆ

**æŠ€è¡“æ§‹æˆ**ï¼š
- **Clerkãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ï¼š`@clerk/nextjs`
- **èªè¨¼ãƒ¬ãƒ«ãƒ åˆ†é›¢**ï¼š`middleware.ts` ã§ç®¡ç†è€…èªè¨¼ã¨Clerkèªè¨¼ã‚’åˆ†é›¢
- **ç’°å¢ƒå¤‰æ•°**ï¼š
  - `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`
  - `CLERK_SECRET_KEY`
  - `NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in`
  - `NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up`
  - `NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/diagnosis`
  - `NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/diagnosis`

**middleware.ts å®Ÿè£…**ï¼š
```typescript
// middleware.ts
import { clerkMiddleware, createRouteMatcher } from '@clerk/nextjs/server'
import { NextResponse } from 'next/server'
import type { NextRequest } from 'next/server'
import { verifyAdminJWT } from '@/lib/jwt-session'

const isPublicRoute = createRouteMatcher([
  '/',
  '/about',
  '/learn/taiheki(.*)',
  '/sign-in(.*)',
  '/sign-up(.*)',
  '/api/fortune-calc-v2(.*)',
  '/api/public(.*)'
])

const isAdminRoute = createRouteMatcher([
  '/admin(.*)',
  '/api/admin(.*)'
])

const isDiagnosisRoute = createRouteMatcher([
  '/diagnosis(.*)',
  '/api/diagnosis(.*)'
])

export default async function middleware(request: NextRequest) {
  // ç®¡ç†è€…ãƒ«ãƒ¼ãƒˆ: æ—¢å­˜JWTèªè¨¼ï¼ˆClerkã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼‰
  if (isAdminRoute(request)) {
    return verifyAdminJWT(request)
  }

  // ãã®ä»–: ClerkãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
  return clerkMiddleware(async (auth, req) => {
    // å…¬é–‹ãƒ«ãƒ¼ãƒˆã¯èªè¨¼ä¸è¦
    if (isPublicRoute(req)) {
      return NextResponse.next()
    }

    // è¨ºæ–­ãƒ«ãƒ¼ãƒˆ: èªè¨¼æ¨å¥¨ã ãŒå¿…é ˆã§ã¯ãªã„
    if (isDiagnosisRoute(req)) {
      return NextResponse.next()
    }

    // ãã®ä»–ã®ä¿è­·ãƒ«ãƒ¼ãƒˆ: èªè¨¼å¿…é ˆ
    await auth.protect()
    return NextResponse.next()
  })(request)
}
```

**ClerkProviderçµ±åˆ**ï¼š
```typescript
// src/app/layout.tsx
import { ClerkProvider } from '@clerk/nextjs'
import { jaJP } from '@clerk/localizations'

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <ClerkProvider localization={jaJP}>
      <html lang="ja">
        <body>{children}</body>
      </html>
    </ClerkProvider>
  )
}
```

**åŸºæœ¬æƒ…å ±ãƒ•ã‚©ãƒ¼ãƒ è‡ªå‹•å…¥åŠ›**ï¼š
```typescript
// src/ui/features/forms/basic-info-form.tsx
import { useUser } from '@clerk/nextjs'

export function BasicInfoForm() {
  const { user } = useUser()

  // Clerkãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‹ã‚‰è‡ªå‹•å…¥åŠ›
  const defaultValues = {
    name: user?.fullName || '',
    email: user?.primaryEmailAddress?.emailAddress || '',
    birthDate: user?.publicMetadata?.birthDate as string || '',
    gender: user?.publicMetadata?.gender as string || '',
  }

  // ä»¥ä¸‹ã€æ—¢å­˜ãƒ•ã‚©ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
}
```

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] `npm install @clerk/nextjs` ã§Clerkãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹
- [ ] ç’°å¢ƒå¤‰æ•°ãŒ `.env.local` ã«æ­£ã—ãè¨­å®šã•ã‚Œã‚‹
- [ ] `middleware.ts` ãŒç®¡ç†è€…èªè¨¼ã¨Clerkèªè¨¼ã‚’æ­£ã—ãåˆ†é›¢
- [ ] ClerkProviderãŒ `app/layout.tsx` ã«çµ±åˆã•ã‚Œã‚‹
- [ ] Clerk SignIn/SignUp UIãŒ `/sign-in`, `/sign-up` ã§è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] èªè¨¼å¾Œã« `/diagnosis` ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹
- [ ] åŸºæœ¬æƒ…å ±ãƒ•ã‚©ãƒ¼ãƒ ã§Clerkãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒè‡ªå‹•å…¥åŠ›ã•ã‚Œã‚‹

#### F005-3ï¼šè¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒãƒ¼ä¿å­˜

**æ¦‚è¦**ï¼šèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã‚’Prisma DBã«ä¿å­˜

**Prismaã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µ**ï¼š
```prisma
// prisma/schema.prisma

model DiagnosisRecord {
  id          String   @id @default(uuid())

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥ï¼ˆã„ãšã‚Œã‹å¿…é ˆï¼‰
  clerkUserId String?  // Clerkèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼
  anonymousId String?  // åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆæœªå®Ÿè£…ã€å°†æ¥æ‹¡å¼µç”¨ï¼‰

  // è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ï¼ˆJSONå½¢å¼ï¼‰
  basicInfo   Json     // åå‰ã€ç”Ÿå¹´æœˆæ—¥ã€æ€§åˆ¥ãªã©
  mbtiResult  Json?    // MBTIè¨ºæ–­çµæœ
  taihekiResult Json?  // ä½“ç™–è¨ºæ–­çµæœ
  fortuneResult Json?  // ç®—å‘½å­¦è¨ºæ–­çµæœ

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  expiresAt   DateTime // createdAt + 30æ—¥

  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([clerkUserId])
  @@index([expiresAt])
  @@index([createdAt])
}
```

**APIå®Ÿè£…ï¼šè¨ºæ–­ãƒ‡ãƒ¼ã‚¿ä¿å­˜**ï¼š
```typescript
// src/app/api/diagnosis/save/route.ts
import { auth } from '@clerk/nextjs/server'
import { db } from '@/lib/prisma'

export async function POST(request: Request) {
  const { userId } = await auth()

  if (!userId) {
    return Response.json({ error: 'Unauthorized' }, { status: 401 })
  }

  const body = await request.json()
  const { basicInfo, mbtiResult, taihekiResult, fortuneResult } = body

  // 30æ—¥å¾Œã®å‰Šé™¤æ—¥æ™‚ã‚’è¨ˆç®—
  const expiresAt = new Date()
  expiresAt.setDate(expiresAt.getDate() + 30)

  const record = await db.diagnosisRecord.create({
    data: {
      clerkUserId: userId,
      basicInfo,
      mbtiResult,
      taihekiResult,
      fortuneResult,
      expiresAt,
    },
  })

  return Response.json({ success: true, recordId: record.id })
}
```

**Zustandã‚¹ãƒˆã‚¢æ‹¡å¼µ**ï¼š
```typescript
// src/lib/zustand/diagnosis-store.ts
interface DiagnosisStore {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  basicInfo: BasicInfo | null
  mbti: MBTIResult | null
  taiheki: TaihekiResult | null
  fortune: FortuneResult | null

  // æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  authMode: 'authenticated' | 'anonymous'
  recordId: string | null // ã‚µãƒ¼ãƒãƒ¼ä¿å­˜æ™‚ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ID

  // æ–°è¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  saveToServer: () => Promise<void>
}
```

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] Prismaã‚¹ã‚­ãƒ¼ãƒã« `DiagnosisRecord` ãƒ¢ãƒ‡ãƒ«ãŒè¿½åŠ ã•ã‚Œã‚‹
- [ ] `npm run prisma:migrate` ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã‚‹
- [ ] POST `/api/diagnosis/save` ãŒèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
- [ ] æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯401ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™
- [ ] `expiresAt` ãŒä½œæˆæ—¥æ™‚ + 30æ—¥ã§è‡ªå‹•è¨­å®šã•ã‚Œã‚‹
- [ ] Zustandã‚¹ãƒˆã‚¢ã« `saveToServer()` ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿè£…ã•ã‚Œã‚‹
- [ ] è¨ºæ–­å®Œäº†æ™‚ã«èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•ä¿å­˜ã•ã‚Œã‚‹

#### F005-4ï¼šè¨ºæ–­å±¥æ­´æ©Ÿèƒ½

**æ¦‚è¦**ï¼šèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒéå»ã®è¨ºæ–­çµæœã‚’é–²è¦§å¯èƒ½

**ç”»é¢æ§‹æˆ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨ºæ–­å±¥æ­´                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… 2025-10-20  MBTI: INTJ, ä½“ç™–: 2ç¨®   â”‚
â”‚  â†’ è©³ç´°ã‚’è¦‹ã‚‹                            â”‚
â”‚                                        â”‚
â”‚  ğŸ“… 2025-10-15  MBTI: ENFP, ä½“ç™–: 5ç¨®   â”‚
â”‚  â†’ è©³ç´°ã‚’è¦‹ã‚‹                            â”‚
â”‚                                        â”‚
â”‚  ğŸ“… 2025-10-10  MBTI: ISTJ, ä½“ç™–: 1ç¨®   â”‚
â”‚  â†’ è©³ç´°ã‚’è¦‹ã‚‹                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**APIå®Ÿè£…ï¼šè¨ºæ–­å±¥æ­´å–å¾—**ï¼š
```typescript
// src/app/api/diagnosis/history/route.ts
import { auth } from '@clerk/nextjs/server'
import { db } from '@/lib/prisma'

export async function GET(request: Request) {
  const { userId } = await auth()

  if (!userId) {
    return Response.json({ error: 'Unauthorized' }, { status: 401 })
  }

  const records = await db.diagnosisRecord.findMany({
    where: {
      clerkUserId: userId,
      expiresAt: { gte: new Date() }, // å‰Šé™¤æœŸé™å‰ã®ã¿
    },
    orderBy: { createdAt: 'desc' },
    select: {
      id: true,
      createdAt: true,
      basicInfo: true,
      mbtiResult: true,
      taihekiResult: true,
      fortuneResult: true,
    },
  })

  return Response.json({ records })
}
```

**ç”»é¢å®Ÿè£…**ï¼š
- **å®Ÿè£…å ´æ‰€**ï¼š`src/app/diagnosis/history/page.tsx`ï¼ˆæ–°è¦ä½œæˆï¼‰
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**ï¼š`src/ui/features/diagnosis/history-list.tsx`ï¼ˆæ–°è¦ä½œæˆï¼‰

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] GET `/api/diagnosis/history` ãŒèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨ºæ–­å±¥æ­´ã‚’è¿”ã™
- [ ] å‰Šé™¤æœŸé™ï¼ˆ`expiresAt`ï¼‰ãŒéããŸãƒ¬ã‚³ãƒ¼ãƒ‰ã¯å«ã¾ã‚Œãªã„
- [ ] è¨ºæ–­å±¥æ­´ç”»é¢ `/diagnosis/history` ãŒå®Ÿè£…ã•ã‚Œã‚‹
- [ ] å„è¨ºæ–­ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ã€Œè©³ç´°ã‚’è¦‹ã‚‹ã€ãƒªãƒ³ã‚¯ãŒã‚ã‚‹
- [ ] è©³ç´°ãƒªãƒ³ã‚¯ã‹ã‚‰éå»ã®è¨ºæ–­çµæœãƒšãƒ¼ã‚¸ã¸é·ç§»ã§ãã‚‹
- [ ] æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨401ã‚¨ãƒ©ãƒ¼

#### F005-5ï¼š30æ—¥è‡ªå‹•å‰Šé™¤ï¼ˆWebhook + Cronï¼‰

**æ¦‚è¦**ï¼šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æº–æ‹ ã®ãŸã‚ã€30æ—¥çµŒéãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•å‰Šé™¤

**å‰Šé™¤ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **ï¼š
1. **Clerk Webhook**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤æ™‚ã«å³åº§å®Ÿè¡Œ
2. **Vercel Cron**ï¼šæ¯æ—¥æ·±å¤œã«æœŸé™åˆ‡ã‚Œãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬å‰Šé™¤

**Clerk Webhookå®Ÿè£…**ï¼š
```typescript
// src/app/api/webhooks/clerk/route.ts
import { Webhook } from 'svix'
import { db } from '@/lib/prisma'

export async function POST(request: Request) {
  const WEBHOOK_SECRET = process.env.CLERK_WEBHOOK_SECRET!
  const svix = new Webhook(WEBHOOK_SECRET)

  const payload = await request.text()
  const headers = Object.fromEntries(request.headers)

  let event
  try {
    event = svix.verify(payload, headers)
  } catch (err) {
    return Response.json({ error: 'Invalid signature' }, { status: 400 })
  }

  if (event.type === 'user.deleted') {
    const userId = event.data.id

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¨è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
    await db.diagnosisRecord.deleteMany({
      where: { clerkUserId: userId },
    })

    console.log(`Deleted all data for user: ${userId}`)
  }

  return Response.json({ success: true })
}
```

**Vercel Cronå®Ÿè£…**ï¼š
```typescript
// src/app/api/cron/delete-expired-diagnoses/route.ts
import { db } from '@/lib/prisma'

export async function GET(request: Request) {
  // Vercel Cronã‹ã‚‰ã®èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
  const authHeader = request.headers.get('authorization')
  if (authHeader !== `Bearer ${process.env.CRON_SECRET}`) {
    return Response.json({ error: 'Unauthorized' }, { status: 401 })
  }

  const now = new Date()

  // æœŸé™åˆ‡ã‚Œãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤
  const result = await db.diagnosisRecord.deleteMany({
    where: {
      expiresAt: { lte: now },
    },
  })

  console.log(`Deleted ${result.count} expired diagnosis records`)

  return Response.json({
    success: true,
    deletedCount: result.count,
    timestamp: now.toISOString(),
  })
}
```

**Vercel Cronè¨­å®š**ï¼š
```json
// vercel.json
{
  "crons": [
    {
      "path": "/api/cron/delete-expired-diagnoses",
      "schedule": "0 2 * * *"
    }
  ]
}
```

**ç’°å¢ƒå¤‰æ•°**ï¼š
- `CLERK_WEBHOOK_SECRET`: Clerk Dashboard ã‹ã‚‰å–å¾—
- `CRON_SECRET`: ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆã—ãŸç§˜å¯†éµ

**å—å…¥ã‚ŒåŸºæº–**ï¼š
- [ ] Clerk Webhook `/api/webhooks/clerk` ãŒå®Ÿè£…ã•ã‚Œã‚‹
- [ ] `user.deleted` ã‚¤ãƒ™ãƒ³ãƒˆã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒå³åº§å‰Šé™¤
- [ ] Webhookç½²åæ¤œè¨¼ãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã‚‹
- [ ] Vercel Cron `/api/cron/delete-expired-diagnoses` ãŒå®Ÿè£…ã•ã‚Œã‚‹
- [ ] æ¯æ—¥æ·±å¤œ2æ™‚ï¼ˆJSTï¼‰ã«æœŸé™åˆ‡ã‚Œãƒ‡ãƒ¼ã‚¿ãŒå‰Šé™¤ã•ã‚Œã‚‹
- [ ] Cronèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ãŒå®Ÿè£…ã•ã‚Œã‚‹
- [ ] `vercel.json` ã«Cronè¨­å®šãŒè¿½åŠ ã•ã‚Œã‚‹
- [ ] å‰Šé™¤ãƒ­ã‚°ãŒæ­£ã—ãå‡ºåŠ›ã•ã‚Œã‚‹

### 4.5.6 éæ©Ÿèƒ½è¦ä»¶

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶
- èªè¨¼ãƒã‚§ãƒƒã‚¯ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ < 50ms
- æ—¢å­˜è¨ºæ–­ãƒ•ãƒ­ãƒ¼ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ã¸ã®å½±éŸ¿ < 5%
- è¨ºæ–­å±¥æ­´API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ  < 1ç§’ï¼ˆ50ä»¶å–å¾—æ™‚ï¼‰

#### ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¦ä»¶
- GDPRã€CCPAæº–æ‹ 
- 30æ—¥è‡ªå‹•å‰Šé™¤ãƒãƒªã‚·ãƒ¼ã®å …æŒ
- å€‹äººè­˜åˆ¥æƒ…å ±ï¼ˆPIIï¼‰ã®æœ€å°åŒ–
- åŒ¿åè¨ºæ–­ãƒ•ãƒ­ãƒ¼ã®ç¶™ç¶šç¶­æŒ

#### å¯ç”¨æ€§è¦ä»¶
- èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹éšœå®³æ™‚ã‚‚åŒ¿åè¨ºæ–­ã¯ç¶™ç¶šåˆ©ç”¨å¯èƒ½
- Clerkéšœå®³æ™‚ã¯è‡ªå‹•çš„ã«åŒ¿åãƒ•ãƒ­ãƒ¼ã¸ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ç®¡ç†è€…èªè¨¼ã¯å®Œå…¨ã«ç‹¬ç«‹ï¼ˆClerkéšœå®³ã®å½±éŸ¿ã‚’å—ã‘ãªã„ï¼‰

#### ä¿å®ˆæ€§è¦ä»¶
- Clerkãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«æº–æ‹ 
- æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã¸ã®å¤‰æ›´ã¯æœ€å°é™
- TypeScriptå‹å®‰å…¨æ€§ã®ç¶­æŒ
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ 80%ä»¥ä¸Š

## 5. éæ©Ÿèƒ½è¦ä»¶

### 5.1 æ€§èƒ½ãƒ»ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£è¦ä»¶

#### 5.1.1 ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“è¦ä»¶
| æ©Ÿèƒ½ | ç›®æ¨™æ™‚é–“ | æ¸¬å®šæ¡ä»¶ | æ¸¬å®šæ–¹æ³• |
|------|----------|----------|----------|
| ãƒšãƒ¼ã‚¸è¡¨ç¤º | â‰¤2ç§’ | åˆå›ãƒ­ãƒ¼ãƒ‰ | Performance API |
| è¨ºæ–­ç®—å‡º | â‰¤3ç§’ | 20å•å®Œäº†æ™‚ | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¸¬å®š |
| APIå¿œç­” | â‰¤1ç§’ | ç®—å‘½å­¦è¨ˆç®— | ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚° |
| OpenAI API | â‰¤5ç§’ | åˆå›ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°é–‹å§‹ã¾ã§ |

#### 5.1.2 ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆè¦ä»¶
- **åŒæ™‚æ¥ç¶šãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**ï¼šæœ€å¤§50äººï¼ˆæ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚ºæƒ³å®šï¼‰
- **1æ—¥ã‚ãŸã‚Šè¨ºæ–­å®Ÿè¡Œæ•°**ï¼šæœ€å¤§100ä»¶
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹**ï¼šæœ€å¤§10ã‚»ãƒƒã‚·ãƒ§ãƒ³

#### 5.1.3 ãƒªã‚½ãƒ¼ã‚¹åˆ©ç”¨è¦ä»¶
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ â‰¤100MBï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ãƒ–ï¼‰
- **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**ï¼šâ‰¤10MB per user
- **APIãƒªã‚¯ã‚¨ã‚¹ãƒˆé »åº¦**ï¼šâ‰¤1req/sec per userï¼ˆé€šå¸¸åˆ©ç”¨æ™‚ï¼‰

### 5.2 å¯ç”¨æ€§ãƒ»ä¿¡é ¼æ€§è¦ä»¶

#### 5.2.1 ç¨¼åƒç‡è¦ä»¶
- **ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ç¨¼åƒç‡**ï¼š99%ä»¥ä¸Šï¼ˆæ¤œè¨¼æœŸé–“6ã‹æœˆé–“ï¼‰
- **è¨ˆç”»åœæ­¢æ™‚é–“**ï¼šæœˆ4æ™‚é–“ä»¥å†…ï¼ˆãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çª“å£ï¼šå¹³æ—¥æ·±å¤œï¼‰
- **éšœå®³å¾©æ—§æ™‚é–“**ï¼š4æ™‚é–“ä»¥å†…ï¼ˆé‡å¤§éšœå®³æ™‚ï¼‰

#### 5.2.2 ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§è¦ä»¶
- **è¨ºæ–­ãƒ‡ãƒ¼ã‚¿**ï¼šç®—å‡ºãƒ­ã‚¸ãƒƒã‚¯ã®ä¸€è²«æ€§ä¿è¨¼
- **çŠ¶æ…‹ç®¡ç†**ï¼šZustandâ‡”localStorageé–“ã®æ•´åˆæ€§
- **APIé€£æº**ï¼šã‚µãƒ¼ãƒãƒ¼â‡”ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–“ã®ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§

#### 5.2.3 ã‚¨ãƒ©ãƒ¼å‡¦ç†è¦ä»¶
- **è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤**ï¼šAPIã‚¨ãƒ©ãƒ¼æ™‚3å›ã¾ã§è‡ªå‹•å†è©¦è¡Œ
- **ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°**ï¼šå…¨ã‚¨ãƒ©ãƒ¼ã‚’ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ­ã‚°ã«è¨˜éŒ²
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥**ï¼šåˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

### 5.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

#### 5.3.1 ãƒ‡ãƒ¼ã‚¿ä¿è­·è¦ä»¶
- **å€‹äººæƒ…å ±æš—å·åŒ–**ï¼šlocalStorageãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰æš—å·åŒ–
- **é€šä¿¡æš—å·åŒ–**ï¼šå…¨APIé€šä¿¡ã§HTTPSå¿…é ˆ
- **ãƒ‡ãƒ¼ã‚¿åŒ¿ååŒ–**ï¼šç®¡ç†è€…å‘ã‘çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã®å€‹äººç‰¹å®šæƒ…å ±é™¤å»

#### 5.3.2 ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡è¦ä»¶
- **ç®¡ç†è€…èªè¨¼**ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã¸ã®é©åˆ‡ãªèªè¨¼æ©Ÿæ§‹
- **APIèªè¨¼**ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰APIã®ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹é˜²æ­¢
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**ï¼šé©åˆ‡ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š

#### 5.3.3 ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¦ä»¶
- **ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“**ï¼šå€‹äººè­˜åˆ¥æƒ…å ±ã¯è¨ºæ–­å®Œäº†å¾Œ30æ—¥ã§è‡ªå‹•å‰Šé™¤
- **ãƒ‡ãƒ¼ã‚¿å…±æœ‰ç¦æ­¢**ï¼šè¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã®ä»–ã‚µã‚¤ãƒˆé–“ã§ã®å…±æœ‰ç¦æ­¢
- **å‰Šé™¤æ¨©**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å‰Šé™¤è¦æ±‚ã«å¯¾ã™ã‚‹å³åº§ã®å¯¾å¿œ

### 5.4 ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£è¦ä»¶

#### 5.4.1 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶
- **å¯¾å¿œãƒ‡ãƒã‚¤ã‚¹**ï¼š
  - ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆ1920x1080ä»¥ä¸Šï¼‰
  - ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆ768x1024ã€œ1024x768ï¼‰
  - ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆ375x667ã€œ414x896ï¼‰
- **ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**ï¼šTailwind CSSæ¨™æº–ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆæ¡ç”¨
- **ã‚¿ãƒƒãƒæ“ä½œ**ï¼šãƒœã‚¿ãƒ³æœ€å°ã‚µã‚¤ã‚º44x44px

#### 5.4.2 ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦ä»¶
- **WCAG 2.1 AAæº–æ‹ **ï¼šè‰²è¦šç•°å¸¸ãƒ»è¦–è¦šéšœå®³ã¸ã®é…æ…®
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ**ï¼šã™ã¹ã¦ã®æ©Ÿèƒ½ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œ
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼**ï¼šé©åˆ‡ãªARIAãƒ©ãƒ™ãƒ«è¨­å®š
- **ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”**ï¼š4.5:1ä»¥ä¸Šï¼ˆé€šå¸¸ãƒ†ã‚­ã‚¹ãƒˆï¼‰

#### 5.4.3 å¤šè¨€èªå¯¾å¿œè¦ä»¶
- **åˆæœŸå¯¾å¿œ**ï¼šæ—¥æœ¬èªã®ã¿
- **å°†æ¥å¯¾å¿œ**ï¼šè‹±èªãƒ»ä¸­å›½èªãƒ»éŸ“å›½èªï¼ˆPhase 2ä»¥é™ï¼‰
- **å›½éš›åŒ–å¯¾å¿œ**ï¼ši18nå¯¾å¿œã®è¨­è¨ˆï¼ˆæ–‡å­—åˆ—å¤–éƒ¨åŒ–ï¼‰

### 5.5 ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§è¦ä»¶

#### 5.5.1 ã‚³ãƒ¼ãƒ‰å“è³ªè¦ä»¶
- **TypeScript**ï¼šå‹å®‰å…¨æ€§ã®ç¢ºä¿
- **ESLint/Prettier**ï¼šã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆçµ±ä¸€
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**ï¼šå˜ä½“ãƒ†ã‚¹ãƒˆ80%ä»¥ä¸Š
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**ï¼šé–¢æ•°ãƒ»APIä»•æ§˜ã®é©åˆ‡ãªæ–‡æ›¸åŒ–

#### 5.5.2 ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»é‹ç”¨è¦ä»¶
- **CI/CD**ï¼šGitHub Actions ã«ã‚ˆã‚‹è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- **ç’°å¢ƒåˆ†é›¢**ï¼šé–‹ç™ºãƒ»ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»æœ¬ç•ªç’°å¢ƒã®åˆ†é›¢
- **ãƒ­ã‚°ç®¡ç†**ï¼šæ§‹é€ åŒ–ãƒ­ã‚°ã«ã‚ˆã‚‹é‹ç”¨ç›£è¦–
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**ï¼šè¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã®æ—¥æ¬¡ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

#### 5.5.3 ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°è¦ä»¶
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–**ï¼šWeb Vitalsï¼ˆLCPã€FIDã€CLSï¼‰æ¸¬å®š
- **ã‚¨ãƒ©ãƒ¼è¿½è·¡**ï¼šJavaScript ã‚¨ãƒ©ãƒ¼ã®è‡ªå‹•åé›†ãƒ»é€šçŸ¥
- **åˆ©ç”¨çµ±è¨ˆ**ï¼šè¨ºæ–­å®Ÿè¡Œæ•°ãƒ»å®Œäº†ç‡ãƒ»æ»åœ¨æ™‚é–“ã®è¨ˆæ¸¬

## 6. ãƒ‡ãƒ¼ã‚¿è¦ä»¶

### 6.1 è«–ç†ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

#### 6.1.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰
```typescript
interface UserDiagnosisData {
  // åŸºæœ¬æƒ…å ±
  basic: {
    name: string;
    birthdate: {
      year: number;
      month: number;
      day: number;
    };
    age: number;
    sessionId: string;
    startedAt: Date;
    completedAt?: Date;
  };
  
  // ç®—å‘½å­¦ãƒ»å‹•ç‰©å ã„çµæœ
  fortune: {
    zodiac: string;          // åäºŒæ”¯
    sixStar: string;         // å…­æ˜Ÿå è¡“
    animal: string;          // å‹•ç‰©å ã„
    element: string;         // äº”è¡Œ
    calculatedAt: Date;
  };
  
  // MBTIçµæœ
  mbti: {
    type: string;            // 16ã‚¿ã‚¤ãƒ—ï¼ˆä¾‹ï¼šINFPï¼‰
    method: 'known' | 'diagnosis'; // å–å¾—æ–¹æ³•
    confidence?: number;      // è¨ºæ–­ã®å ´åˆã®ä¿¡é ¼åº¦
    answeredAt: Date;
  };
  
  // ä½“ç™–çµæœ
  taiheki?: {
    primary: number;         // ä¸»ä½“ç™–ï¼ˆ1-10ï¼‰
    secondary: number;       // å‰¯ä½“ç™–ï¼ˆ1-10ï¼‰
    scores: number[];        // å„ã‚¿ã‚¤ãƒ—ã®ã‚¹ã‚³ã‚¢
    answers: number[];       // 20å•ã®å›ç­”
    completedAt: Date;
  };
  
  // é€²æ—ç®¡ç†
  progress: {
    currentStep: string;     // 'basic' | 'mbti' | 'taiheki' | 'result'
    percentage: number;      // 0-100
    completedSteps: string[];
  };
}
```

#### 6.1.2 ç®¡ç†è€…ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰
```typescript
interface AdminDiagnosisRecord {
  id: string;              // DGN-YYYYMMDD-XXX
  userId: string;          // ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ID
  name: string;            // æš—å·åŒ–ã•ã‚ŒãŸåå‰
  age: number;
  submittedAt: Date;
  
  // è¨ºæ–­çµæœï¼ˆæ­£è¦åŒ–ï¼‰
  mbti: string;
  taihekiPrimary: number;
  taihekiSecondary: number;
  fortuneData: any;        // JSONå½¢å¼
  
  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  completionStatus: 'partial' | 'complete';
  dataQuality: 'high' | 'medium' | 'low';
  generatedPrompt: string; // Claude AIå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  downloadCount: number;   // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å›æ•°
  
  // ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ç®¡ç†
  privacyConsent: boolean;
  deletionScheduledAt?: Date;
  actuallyDeletedAt?: Date;
}
```

### 6.2 ãƒ‡ãƒ¼ã‚¿è¾æ›¸

#### 6.2.1 ä½“ç™–é–¢é€£ãƒ‡ãƒ¼ã‚¿
| å±æ€§å | ãƒ‡ãƒ¼ã‚¿å‹ | æ¡æ•° | NULL | ãƒ‰ãƒ¡ã‚¤ãƒ³ | èª¬æ˜ |
|--------|----------|------|------|----------|------|
| taihekiType | INTEGER | 2 | NO | 1-10 | ä½“ç™–ç•ªå·ï¼ˆ1ç¨®ã€œ10ç¨®ï¼‰ |
| score | DECIMAL | 5,2 | NO | 0.00-100.00 | ä½“ç™–ã‚¹ã‚³ã‚¢ |
| questionId | INTEGER | 2 | NO | 1-20 | è³ªå•ç•ªå· |
| answerId | INTEGER | 1 | NO | 1-4 | é¸æŠè‚¢ç•ªå· |

#### 6.2.2 MBTIé–¢é€£ãƒ‡ãƒ¼ã‚¿
| å±æ€§å | ãƒ‡ãƒ¼ã‚¿å‹ | æ¡æ•° | NULL | ãƒ‰ãƒ¡ã‚¤ãƒ³ | èª¬æ˜ |
|--------|----------|------|----------|----------|------|
| mbtiType | CHAR | 4 | NO | [EINS][EINS][TFTS][JPJP] | MBTI4æ–‡å­—è¡¨è¨˜ |
| dimension | CHAR | 1 | NO | E,I,S,N,T,F,J,P | MBTIæ¬¡å…ƒ |
| confidence | DECIMAL | 3,2 | YES | 0.00-1.00 | è¨ºæ–­ä¿¡é ¼åº¦ |

### 6.3 ãƒ‡ãƒ¼ã‚¿ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†

#### 6.3.1 ãƒ‡ãƒ¼ã‚¿ä¿æŒãƒãƒªã‚·ãƒ¼
1. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼ˆlocalStorageï¼‰**
   - ä¿æŒæœŸé–“ï¼šè¨ºæ–­å®Œäº†ã‹ã‚‰7æ—¥é–“
   - è‡ªå‹•å‰Šé™¤ï¼šæœŸé™åˆ°æ¥æ™‚ã«JavaScriptã§è‡ªå‹•å‰Šé™¤
   - æ‰‹å‹•å‰Šé™¤ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹å³åº§å‰Šé™¤æ©Ÿèƒ½

2. **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼ˆç®¡ç†è€…DBï¼‰**
   - å€‹äººè­˜åˆ¥æƒ…å ±ï¼š30æ—¥é–“ä¿æŒå¾Œè‡ªå‹•åŒ¿ååŒ–
   - çµ±è¨ˆç”¨ãƒ‡ãƒ¼ã‚¿ï¼šåŒ¿ååŒ–å¾Œæ°¸ç¶šä¿æŒ
   - å‰Šé™¤ãƒ­ã‚°ï¼šå‰Šé™¤å®Ÿè¡Œã®è¨¼è·¡ã¨ã—ã¦1å¹´é–“ä¿æŒ

#### 6.3.2 ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¦ä»¶
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—å¯¾å¿œ**ï¼šlocalStorage ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚ã®äº’æ›æ€§ç¶­æŒ
- **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œãƒ„ãƒ¼ãƒ«**ï¼šæ—§å½¢å¼ãƒ‡ãƒ¼ã‚¿ã®æ–°å½¢å¼ã¸ã®å¤‰æ›
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**ï¼šãƒ‡ãƒ¼ã‚¿ç§»è¡Œå¤±æ•—æ™‚ã®å¾©æ—§æ©Ÿèƒ½

## 7. å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹è¦ä»¶

### 7.1 OpenAI APIé€£æºä»•æ§˜

#### 7.1.1 ChatGPT APIï¼ˆã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ï¼‰
**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`https://api.openai.com/v1/chat/completions`
**åˆ©ç”¨ãƒ¢ãƒ‡ãƒ«**ï¼šGPT-4 turbo
**èªè¨¼æ–¹å¼**ï¼šBearer Tokenï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ç®¡ç†ï¼‰

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆä»•æ§˜**ï¼š
```typescript
interface OpenAIChatRequest {
  model: "gpt-4-turbo-preview";
  messages: {
    role: "system" | "user" | "assistant";
    content: string;
  }[];
  stream: true;
  temperature: 0.7;
  max_tokens: 4000;
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†**ï¼š
```javascript
// Server-Sent Events ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†
const response = await fetch('/api/chat/stream', {
  method: 'POST',
  body: JSON.stringify(chatData)
});

const reader = response.body.getReader();
const decoder = new TextDecoder();

while (true) {
  const { value, done } = await reader.read();
  if (done) break;
  
  const chunk = decoder.decode(value);
  const lines = chunk.split('\n');
  
  for (const line of lines) {
    if (line.startsWith('data: ')) {
      const data = JSON.parse(line.slice(6));
      if (data.choices[0].delta.content) {
        // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§UIæ›´æ–°
        updateChatUI(data.choices[0].delta.content);
      }
    }
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ï¼š
- **Rate Limit**ï¼š429ã‚¨ãƒ©ãƒ¼æ™‚ã¯æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§å†è©¦è¡Œ
- **Network Error**ï¼šæ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å†è©¦è¡Œãƒœã‚¿ãƒ³è¡¨ç¤º

#### 7.1.2 ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ
```typescript
const systemPrompt = `
ã‚ãªãŸã¯COCOSiLã‚·ã‚¹ãƒ†ãƒ ã®AIç›¸è«‡å“¡ã§ã™ã€‚ä»¥ä¸‹ã®è¨ºæ–­çµæœã‚’æŒã¤æ–¹ã®ç›¸è«‡ã«ä¹—ã£ã¦ãã ã•ã„ã€‚

## ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
- åå‰: {{name}}
- å¹´é½¢: {{age}}æ­³
- MBTI: {{mbti}}
- ä½“ç™–: ä¸»ä½“ç™–{{primaryTaiheki}}ç¨®ãƒ»å‰¯ä½“ç™–{{secondaryTaiheki}}ç¨®
- ç®—å‘½å­¦: {{fortune}}

## ç›¸è«‡å¯¾å¿œæ–¹é‡
1. è¨ºæ–­çµæœã‚’è¸ã¾ãˆãŸå€‹åˆ¥åŒ–ã•ã‚ŒãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹
2. è¤‡æ•°ã®è¨ºæ–­æ‰‹æ³•ã®çµ±åˆçš„ãªè§£é‡ˆ
3. å®Ÿç”¨çš„ã§å…·ä½“çš„ãªæ”¹å–„ææ¡ˆ
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è‡ªå¾‹æ€§ã‚’å°Šé‡ã—ãŸæ”¯æ´

## æ³¨æ„äº‹é …
- è¨ºæ–­çµæœã‚’çµ¶å¯¾è¦–ã›ãšã€å‚è€ƒæƒ…å ±ã¨ã—ã¦æ‰±ã†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸»ä½“æ€§ã‚’é‡è¦–ã™ã‚‹
- åŒ»ç™‚çš„åˆ¤æ–­ã¯è¡Œã‚ãªã„
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã«é…æ…®ã—ã€æƒ…å ±ã‚’å¤–éƒ¨ã«æ¼ã‚‰ã•ãªã„
`;
```

### 7.2 Python APIé€£æºä»•æ§˜ï¼ˆç®—å‘½å­¦è¨ˆç®—ï¼‰

#### 7.2.1 fortune-calc API
**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`POST /api/fortune-calc`
**å®Ÿè£…å ´æ‰€**ï¼š`pages/api/fortune-calc.ts`ï¼ˆNext.js API Routesï¼‰

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆå½¢å¼**ï¼š
```typescript
interface FortuneCalcRequest {
  year: number;   // 1900-2025
  month: number;  // 1-12
  day: number;    // 1-31
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼**ï¼š
```typescript
interface FortuneCalcResponse {
  success: boolean;
  data?: {
    age: number;
    zodiac: string;      // åäºŒæ”¯
    animal: string;      // å‹•ç‰©å ã„
    sixStar: string;     // å…­æ˜Ÿå è¡“
    element: string;     // äº”è¡Œ
    fortune: string;     // é‹å‹¢æ¦‚è¦
  };
  error?: string;
}
```

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ï¼š
- **æ—¥ä»˜ã‚¨ãƒ©ãƒ¼**ï¼šç„¡åŠ¹ãªæ—¥ä»˜ï¼ˆ2æœˆ30æ—¥ç­‰ï¼‰ã®å ´åˆã¯ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- **ãƒ‡ãƒ¼ã‚¿ä¸è¶³**ï¼šCSV ãƒ‡ãƒ¼ã‚¿ã«è©²å½“æƒ…å ±ãŒãªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤è¿”å´
- **Pythonå®Ÿè¡Œã‚¨ãƒ©ãƒ¼**ï¼šã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†

### 7.3 CSV ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ä»•æ§˜

#### 7.3.1 fortune_data.csv
ç®—å‘½å­¦ãƒ»å‹•ç‰©å ã„è¨ˆç®—ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿

**ãƒ•ã‚¡ã‚¤ãƒ«å ´æ‰€**ï¼š`data/fortune_data.csv`
**æ–‡å­—ã‚³ãƒ¼ãƒ‰**ï¼šUTF-8
**å½¢å¼**ï¼šCSVï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚ã‚Šï¼‰

**åˆ—å®šç¾©**ï¼š
```csv
year_from,year_to,month,day,zodiac,animal,six_star,element,fortune
1900,2025,1,1,å­,ãƒãƒ¼ã‚¿,åœŸæ˜Ÿ,åœŸ,å …å®Ÿãªä¸€å¹´ã¨ãªã‚Šãã†ã§ã™
1900,2025,1,2,å­,é»’ã²ã‚‡ã†,é‡‘æ˜Ÿ,é‡‘,å‰µé€ æ€§ã‚’ç™ºæ®ã™ã‚‹æ™‚æœŸã§ã™
...
```

| åˆ—å | ãƒ‡ãƒ¼ã‚¿å‹ | èª¬æ˜ | ä¾‹ |
|------|----------|------|-----|
| year_from | INTEGER | é©ç”¨é–‹å§‹å¹´ | 1900 |
| year_to | INTEGER | é©ç”¨çµ‚äº†å¹´ | 2025 |
| month | INTEGER | æœˆ | 1-12 |
| day | INTEGER | æ—¥ | 1-31 |
| zodiac | VARCHAR | åäºŒæ”¯ | å­ã€ä¸‘ã€å¯…... |
| animal | VARCHAR | å‹•ç‰©å ã„ | ãƒãƒ¼ã‚¿ã€é»’ã²ã‚‡ã†... |
| six_star | VARCHAR | å…­æ˜Ÿå è¡“ | åœŸæ˜Ÿã€é‡‘æ˜Ÿ... |
| element | VARCHAR | äº”è¡Œ | æœ¨ã€ç«ã€åœŸã€é‡‘ã€æ°´ |
| fortune | TEXT | é‹å‹¢ã‚³ãƒ¡ãƒ³ãƒˆ | å …å®Ÿãªä¸€å¹´... |

### 7.4 ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿é€ä¿¡API

#### 7.4.1 admin-submit API
**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`POST /api/admin-submit`
**èªè¨¼**ï¼šAPIã‚­ãƒ¼ã«ã‚ˆã‚‹èªè¨¼

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆä»•æ§˜**ï¼š
```typescript
interface AdminSubmitRequest {
  userData: UserDiagnosisData;
  mdContent: string;        // ç”Ÿæˆã•ã‚ŒãŸ.mdãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹
  metadata: {
    sessionDuration: number;  // è¨ºæ–­æ‰€è¦æ™‚é–“ï¼ˆç§’ï¼‰
    browserInfo: string;      // ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±
    referrer?: string;        // å‚ç…§å…ƒURL
  };
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä»•æ§˜**ï¼š
```typescript
interface AdminSubmitResponse {
  success: boolean;
  downloadId?: string;      // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨ID
  adminUrl?: string;        // ç®¡ç†è€…å‘ã‘ã‚¢ã‚¯ã‚»ã‚¹URL
  message: string;
}
```

**å®Ÿè£…ä¾‹**ï¼š
```typescript
// pages/api/admin-submit.ts
export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method !== 'POST') {
    return res.status(405).json({ success: false, message: 'Method not allowed' });
  }
  
  try {
    const { userData, mdContent, metadata } = req.body;
    
    // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜
    const record = await saveToDatabase(userData, mdContent, metadata);
    
    // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰IDç”Ÿæˆ
    const downloadId = generateDownloadId();
    
    return res.status(200).json({
      success: true,
      downloadId,
      adminUrl: `https://admin.cocoseal.com/download/${downloadId}`,
      message: 'ãƒ‡ãƒ¼ã‚¿ãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸ'
    });
    
  } catch (error) {
    console.error('Admin submit error:', error);
    return res.status(500).json({
      success: false,
      message: 'é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚'
    });
  }
}
```

## 8. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°ä»•æ§˜

### 8.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

#### 8.1.1 Next.js æ§‹æˆ
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**ï¼šNext.js 14ï¼ˆApp Routerï¼‰
**ç†ç”±**ï¼š
- **SSR/SSGå¯¾å¿œ**ï¼šSEOæœ€é©åŒ–ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- **API Routes**ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†ã®çµ±åˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**ï¼šç›´æ„Ÿçš„ãªãƒšãƒ¼ã‚¸ç®¡ç†
- **Imageæœ€é©åŒ–**ï¼šè‡ªå‹•çš„ãªç”»åƒæœ€é©åŒ–æ©Ÿèƒ½

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ**ï¼š
```
src/
  app/
    (sites)/
      cocosil/          # ã‚³ã‚³ã‚·ãƒ«å…¥å£ã‚µã‚¤ãƒˆ
        page.tsx
        layout.tsx
        components/
      taiheki-diagnosis/  # ä½“ç™–è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ 
      taiheki-theory/     # ä½“ç™–ç†è«–å­¦ç¿’
      admin/             # ç®¡ç†è€…ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆèªè¨¼å¿…è¦ï¼‰
    api/
      fortune-calc/      # ç®—å‘½å­¦API
      admin-submit/      # ç®¡ç†è€…å‘ã‘é€ä¿¡
      chat/             # OpenAIé€£æº
    globals.css
    layout.tsx
  components/
    ui/                 # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    shared/             # ã‚µã‚¤ãƒˆé–“å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  lib/
    utils.ts
    zustand/           # çŠ¶æ…‹ç®¡ç†ã‚¹ãƒˆã‚¢
  types/
    index.ts           # å‹å®šç¾©
```

#### 8.1.2 React Hook Form å®Ÿè£…
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**ï¼šReact Hook Form 7.x
**åˆ©ç”¨ç®‡æ‰€**ï¼šå…¨ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ï¼ˆåŸºæœ¬æƒ…å ±ãƒ»MBTIãƒ»ä½“ç™–è¨ºæ–­ï¼‰

**åŸºæœ¬è¨­å®š**ï¼š
```typescript
// lib/form-config.ts
import { zodResolver } from "@hookform/resolvers/zod";
import { z } from "zod";

export const basicInfoSchema = z.object({
  name: z.string().min(1, "åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„").max(50, "50æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„"),
  birthYear: z.number().min(1900, "1900å¹´ä»¥é™ã‚’é¸æŠã—ã¦ãã ã•ã„").max(2025, "2025å¹´ä»¥å‰ã‚’é¸æŠã—ã¦ãã ã•ã„"),
  birthMonth: z.number().min(1).max(12),
  birthDay: z.number().min(1).max(31),
});

export type BasicInfoForm = z.infer<typeof basicInfoSchema>;
```

**ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…ä¾‹**ï¼š
```typescript
// components/forms/BasicInfoForm.tsx
export function BasicInfoForm() {
  const { control, handleSubmit, formState: { errors } } = useForm<BasicInfoForm>({
    resolver: zodResolver(basicInfoSchema),
    defaultValues: {
      name: "",
      birthYear: 1990,
      birthMonth: 1,
      birthDay: 1,
    }
  });
  
  const onSubmit = async (data: BasicInfoForm) => {
    // ZustandçŠ¶æ…‹æ›´æ–°
    useUserStore.getState().setBasicInfo(data);
    
    // ç®—å‘½å­¦APIå‘¼ã³å‡ºã—
    const fortuneResult = await callFortuneAPI(data);
    useUserStore.getState().setFortuneData(fortuneResult);
    
    // æ¬¡ãƒšãƒ¼ã‚¸ã¸é·ç§»
    router.push('/cocosil/mbti');
  };
  
  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      {/* ãƒ•ã‚©ãƒ¼ãƒ è¦ç´  */}
    </form>
  );
}
```

#### 8.1.3 Zustand çŠ¶æ…‹ç®¡ç†
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**ï¼šZustand 4.x
**åˆ©ç”¨ç›®çš„**ï¼šã‚µã‚¤ãƒˆé–“ã§ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã€é€²æ—ç®¡ç†

**ã‚¹ãƒˆã‚¢è¨­è¨ˆ**ï¼š
```typescript
// lib/zustand/userStore.ts
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface UserState {
  // åŸºæœ¬æƒ…å ±
  basicInfo: {
    name: string;
    birthdate: { year: number; month: number; day: number };
    age: number;
  } | null;
  
  // è¨ºæ–­çµæœ
  fortuneData: FortuneResult | null;
  mbtiData: MBTIResult | null;
  taihekiData: TaihekiResult | null;
  
  // é€²æ—ç®¡ç†
  progress: {
    currentStep: 'basic' | 'mbti' | 'taiheki' | 'result';
    percentage: number;
    completedSteps: string[];
  };
  
  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  setBasicInfo: (info: BasicInfo) => void;
  setFortuneData: (data: FortuneResult) => void;
  setMBTIData: (data: MBTIResult) => void;
  setTaihekiData: (data: TaihekiResult) => void;
  updateProgress: (step: string, percentage: number) => void;
  clearData: () => void;
}

export const useUserStore = create<UserState>()(
  persist(
    (set, get) => ({
      // åˆæœŸçŠ¶æ…‹
      basicInfo: null,
      fortuneData: null,
      mbtiData: null,
      taihekiData: null,
      progress: {
        currentStep: 'basic',
        percentage: 0,
        completedSteps: []
      },
      
      // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè£…
      setBasicInfo: (info) => set({ basicInfo: info }),
      setFortuneData: (data) => set({ fortuneData: data }),
      setMBTIData: (data) => set({ mbtiData: data }),
      setTaihekiData: (data) => set({ taihekiData: data }),
      updateProgress: (step, percentage) => set((state) => ({
        progress: {
          currentStep: step as any,
          percentage,
          completedSteps: [...state.progress.completedSteps, step]
        }
      })),
      clearData: () => set({
        basicInfo: null,
        fortuneData: null,
        mbtiData: null,
        taihekiData: null,
        progress: {
          currentStep: 'basic',
          percentage: 0,
          completedSteps: []
        }
      }),
    }),
    {
      name: 'cocosil-user-data',
      // localStorageã«è‡ªå‹•ä¿å­˜
    }
  )
);
```

#### 8.1.4 shadcn/ui + Tailwind CSS
**shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**ï¼š
- Button, Input, Select, Progress
- Dialog, Alert, Card
- Formç³»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ã‚«ã‚¹ã‚¿ãƒ Tailwindã‚¹ã‚¿ã‚¤ãƒ«**ï¼š
```typescript
// tailwind.config.ts
export default {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // COCOSiLãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼
        'cocosil': {
          50: '#f0f8ff',
          100: '#e0f1ff',
          500: '#0ea5e9',
          900: '#0c4a6e',
        },
        // ä½“ç™–ã‚¿ã‚¤ãƒ—åˆ¥ã‚«ãƒ©ãƒ¼ï¼ˆ10è‰²ï¼‰
        'taiheki': {
          1: '#ff6b6b',  // 1ç¨®ï¼šèµ¤
          2: '#4ecdc4',  // 2ç¨®ï¼šé’ç·‘
          3: '#45b7d1',  // 3ç¨®ï¼šé’
          4: '#96ceb4',  // 4ç¨®ï¼šç·‘
          5: '#feca57',  // 5ç¨®ï¼šé»„
          6: '#ff9ff3',  // 6ç¨®ï¼šãƒ”ãƒ³ã‚¯
          7: '#54a0ff',  // 7ç¨®ï¼šé’
          8: '#5f27cd',  // 8ç¨®ï¼šç´«
          9: '#00d2d3',  // 9ç¨®ï¼šã‚·ã‚¢ãƒ³
          10: '#ff6348', // 10ç¨®ï¼šã‚ªãƒ¬ãƒ³ã‚¸
        }
      },
    },
  },
  plugins: [],
}
```

### 8.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

#### 8.2.1 Next.js API Routes
**å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š
```typescript
// pages/api/fortune-calc.ts
import { NextApiRequest, NextApiResponse } from 'next';
import { spawn } from 'child_process';

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method !== 'POST') {
    return res.status(405).json({ message: 'Method not allowed' });
  }
  
  const { year, month, day } = req.body;
  
  // Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
  const pythonProcess = spawn('python3', [
    'scripts/fortune_calculator.py',
    year.toString(),
    month.toString(),
    day.toString()
  ]);
  
  let result = '';
  pythonProcess.stdout.on('data', (data) => {
    result += data.toString();
  });
  
  pythonProcess.on('close', (code) => {
    if (code === 0) {
      try {
        const fortuneData = JSON.parse(result);
        res.status(200).json({ success: true, data: fortuneData });
      } catch (error) {
        res.status(500).json({ success: false, error: 'JSON parse error' });
      }
    } else {
      res.status(500).json({ success: false, error: 'Python script error' });
    }
  });
}
```

#### 8.2.2 OpenAI API ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè£…
```typescript
// pages/api/chat/stream.ts
import { OpenAI } from 'openai';

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  const { messages, userData } = req.body;
  
  // Server-Sent Events ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
  res.writeHead(200, {
    'Content-Type': 'text/event-stream',
    'Cache-Control': 'no-cache',
    'Connection': 'keep-alive',
    'Access-Control-Allow-Origin': '*',
  });
  
  try {
    const stream = await openai.chat.completions.create({
      model: 'gpt-4-turbo-preview',
      messages: [
        { role: 'system', content: generateSystemPrompt(userData) },
        ...messages
      ],
      stream: true,
      temperature: 0.7,
      max_tokens: 2000,
    });
    
    for await (const chunk of stream) {
      const content = chunk.choices[0]?.delta?.content || '';
      if (content) {
        res.write(`data: ${JSON.stringify({ content })}\n\n`);
      }
    }
    
    res.write('data: [DONE]\n\n');
    res.end();
    
  } catch (error) {
    res.write(`data: ${JSON.stringify({ error: error.message })}\n\n`);
    res.end();
  }
}
```

#### 8.2.3 Python çµ±åˆ

## 9. åˆ¶ç´„ãƒ»å‰ææ¡ä»¶

### 9.1 æ³•è¦åˆ¶ãƒ»ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹åˆ¶ç´„

#### 9.1.1 å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œ
- **å–å¾—åŒæ„**ï¼šå€‹äººæƒ…å ±å–å¾—æ™‚ã®æ˜ç¤ºçš„åŒæ„å–å¾—
- **åˆ©ç”¨ç›®çš„**ï¼šè¨ºæ–­ãƒ»åˆ†æç›®çš„ã«é™å®šã—ãŸåˆ©ç”¨
- **ç¬¬ä¸‰è€…æä¾›ç¦æ­¢**ï¼šå€‹äººãƒ‡ãƒ¼ã‚¿ã®å¤–éƒ¨æä¾›ã¯ä¸€åˆ‡è¡Œã‚ãªã„
- **å®‰å…¨ç®¡ç†æªç½®**ï¼šæš—å·åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒ»å‰Šé™¤æ©Ÿèƒ½ã®å®Ÿè£…

**å®Ÿè£…è¦ä»¶**ï¼š
```typescript
// ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼åŒæ„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
export function PrivacyConsent() {
  return (
    <Dialog>
      <DialogContent>
        <h2>å€‹äººæƒ…å ±ã®å–ã‚Šæ‰±ã„ã«ã¤ã„ã¦</h2>
        <div className="privacy-notice">
          <h3>å–å¾—ã™ã‚‹å€‹äººæƒ…å ±</h3>
          <ul>
            <li>ãŠåå‰</li>
            <li>ç”Ÿå¹´æœˆæ—¥</li>
            <li>è¨ºæ–­å›ç­”å†…å®¹</li>
          </ul>
          
          <h3>åˆ©ç”¨ç›®çš„</h3>
          <ul>
            <li>è¨ºæ–­çµæœã®ç®—å‡ºãƒ»è¡¨ç¤º</li>
            <li>ã‚·ã‚¹ãƒ†ãƒ æ”¹å–„ã®ãŸã‚ã®çµ±è¨ˆåˆ†æï¼ˆåŒ¿ååŒ–å¾Œï¼‰</li>
          </ul>
          
          <h3>ä¿å­˜æœŸé–“</h3>
          <p>å€‹äººè­˜åˆ¥æƒ…å ±ã¯è¨ºæ–­å®Œäº†ã‹ã‚‰30æ—¥å¾Œã«è‡ªå‹•å‰Šé™¤ã„ãŸã—ã¾ã™</p>
          
          <h3>ãŠå®¢æ§˜ã®æ¨©åˆ©</h3>
          <p>ã„ã¤ã§ã‚‚å‰Šé™¤è¦æ±‚ãŒå¯èƒ½ã§ã™</p>
        </div>
        
        <Checkbox 
          id="privacy-consent" 
          onCheckedChange={(checked) => setConsent(checked)}
        />
        <label htmlFor="privacy-consent">ä¸Šè¨˜ã«åŒæ„ã™ã‚‹</label>
      </DialogContent>
    </Dialog>
  );
}
```

#### 9.1.2 GDPRå¯¾å¿œï¼ˆå°†æ¥çš„ãªæµ·å¤–å±•é–‹æƒ³å®šï¼‰
- **Right to be forgotten**ï¼šå‰Šé™¤æ¨©ã¸ã®å¯¾å¿œ
- **Data portability**ï¼šãƒ‡ãƒ¼ã‚¿æŒã¡å‡ºã—æ¨©ã¸ã®å¯¾å¿œ
- **Privacy by design**ï¼šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã‚’å‰æã¨ã—ãŸè¨­è¨ˆ

### 9.2 æŠ€è¡“çš„åˆ¶ç´„

#### 9.2.1 ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ
**å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶**ï¼š
- Chrome 90+ (85%+ ã‚·ã‚§ã‚¢æƒ³å®š)
- Safari 14+ (iPhone/Macå¯¾å¿œ)
- Edge 90+ (Windowså¯¾å¿œ)
- Firefox 88+ (ä¸€éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œ)

**éå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶**ï¼š
- Internet Explorer (å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³)
- 5å¹´ä»¥ä¸Šå‰ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒãƒ¼ã‚¸ãƒ§ãƒ³

**å¯¾å¿œç¢ºèªé …ç›®**ï¼š
- ES6+ JavaScriptæ©Ÿèƒ½
- localStorage/sessionStorage
- Fetch API
- Canvas APIï¼ˆç”»åƒç”Ÿæˆï¼‰
- Server-Sent Eventsï¼ˆã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ï¼‰

#### 9.2.2 ãƒ‡ãƒã‚¤ã‚¹ãƒ»OSåˆ¶ç´„
**å¯¾å¿œãƒ‡ãƒã‚¤ã‚¹**ï¼š
- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—PCï¼ˆWindows 10+, macOS 10.15+ï¼‰
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆiPad 9+, Android 10+ï¼‰
- ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆiOS 14+, Android 10+ï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**ï¼š
- RAM: æœ€å°2GBï¼ˆ4GBæ¨å¥¨ï¼‰
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸: 100MBä»¥ä¸Šã®ç©ºãå®¹é‡
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯: å®‰å®šã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶š

#### 9.2.3 å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä¾å­˜
**å¿…é ˆã‚µãƒ¼ãƒ“ã‚¹**ï¼š
- **OpenAI API**ï¼šGPT-4ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
- **Node.jsç’°å¢ƒ**ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å®Ÿè¡Œ
- **Pythonç’°å¢ƒ**ï¼šç®—å‘½å­¦è¨ˆç®—å‡¦ç†

**éšœå®³æ™‚ã®å¯¾å¿œ**ï¼š
- OpenAI APIéšœå®³ï¼šã‚ªãƒ•ãƒ©ã‚¤ãƒ³è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰ã¸ã®åˆ‡ã‚Šæ›¿ãˆ
- Pythonå®Ÿè¡Œã‚¨ãƒ©ãƒ¼ï¼šç°¡æ˜“è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã§ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ï¼šãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ã®å¾©æ—§

### 9.3 é‹ç”¨ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¶ç´„

#### 9.3.1 é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¶ç´„
**æ¤œè¨¼é–‹å§‹äºˆå®š**ï¼šã‚·ã‚¹ãƒ†ãƒ è¦ä»¶å®šç¾©å®Œäº†ã‹ã‚‰10é€±é–“å¾Œ
**é–‹ç™ºæœŸé–“**ï¼š10é€±é–“ï¼ˆPhase 1-3ï¼‰
**ãƒ†ã‚¹ãƒˆæœŸé–“**ï¼šå„Phaseå®Œäº†æ™‚ã«1é€±é–“ã®ãƒ†ã‚¹ãƒˆæœŸé–“

**ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**ï¼š
- Week 4: Phase 1å®Œäº†ï¼ˆåŸºç›¤æ§‹ç¯‰ï¼‰
- Week 7: Phase 2å®Œäº†ï¼ˆè¨ºæ–­æ©Ÿèƒ½æ‹¡å……ï¼‰
- Week 10: Phase 3å®Œäº†ï¼ˆæ¤œè¨¼ãƒ»æœ€é©åŒ–ï¼‰

#### 9.3.2 æ¤œè¨¼æœŸé–“åˆ¶ç´„
**æ¤œè¨¼æœŸé–“**ï¼š6ãƒ¶æœˆé–“
**ç›®æ¨™ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**ï¼š50-100äºº
**ãƒ‡ãƒ¼ã‚¿åé›†ç›®æ¨™**ï¼šå®Œäº†ç‡80%ä»¥ä¸Š

### 9.4 äºˆç®—ãƒ»ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„

#### 9.4.1 ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆåˆ¶ç´„
**OpenAI API**ï¼šæœˆé¡$500ã¾ã§ï¼ˆ1,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆæƒ³å®šï¼‰
**ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**ï¼šVercel Proãƒ—ãƒ©ãƒ³ç¨‹åº¦
**ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ»SSL**ï¼šå¹´é¡$100ç¨‹åº¦

#### 9.4.2 é–‹ç™ºãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„
**é–‹ç™ºè€…**ï¼šãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯1åï¼ˆClaude Codeæ´»ç”¨ï¼‰
**å°‚é–€å®¶ç›£ä¿®**ï¼šä½“ç™–ç†è«–å°‚é–€å®¶ã«ã‚ˆã‚‹è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ç›£ä¿®
**ãƒ†ã‚¹ã‚¿ãƒ¼**ï¼šå†…éƒ¨ãƒ†ã‚¹ãƒˆ3-5åã€å¤–éƒ¨ãƒ†ã‚¹ãƒˆ10-20å

## 10. å—ã‘å…¥ã‚ŒåŸºæº–ãƒ»ãƒ†ã‚¹ãƒˆè¦ä»¶

### 10.1 æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆè¦ä»¶

#### 10.1.1 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆï¼‰
**å¯¾è±¡ç¯„å›²**ï¼š
- è¨ºæ–­ç®—å‡ºãƒ­ã‚¸ãƒƒã‚¯ï¼ˆä½“ç™–ãƒ»MBTIï¼‰
- ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- ZustandçŠ¶æ…‹ç®¡ç†ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

**ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ï¼šJest + Testing Library
**ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**ï¼š80%ä»¥ä¸Š

**ãƒ†ã‚¹ãƒˆå®Ÿè£…ä¾‹**ï¼š
```typescript
// __tests__/lib/taiheki-calculator.test.ts
import { calculateTaiheki } from '@/lib/taiheki-calculator';

describe('ä½“ç™–è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯', () => {
  test('æ­£å¸¸ãªå›ç­”ã§ä¸»ä½“ç™–ãƒ»å‰¯ä½“ç™–ãŒç®—å‡ºã•ã‚Œã‚‹', () => {
    const answers = [1, 2, 1, 3, 2, 1, 4, 2, 1, 3, 2, 1, 4, 2, 1, 3, 2, 1, 4, 2];
    const result = calculateTaiheki(answers);
    
    expect(result.primary).toBeGreaterThan(0);
    expect(result.primary).toBeLessThanOrEqual(10);
    expect(result.secondary).toBeGreaterThan(0);
    expect(result.secondary).toBeLessThanOrEqual(10);
    expect(result.primary).not.toBe(result.secondary);
  });
  
  test('æ¥µç«¯ãªå›ç­”ã§å¦¥å½“ãªçµæœãŒç®—å‡ºã•ã‚Œã‚‹', () => {
    const allOnes = Array(20).fill(1);
    const result = calculateTaiheki(allOnes);
    
    // 1ç¨®é¸æŠãŒå¤šã„å ´åˆã€ä¸»ä½“ç™–ã¯1ç¨®ã«ãªã‚Šã‚„ã™ã„
    expect([1, 2, 3]).toContain(result.primary);
  });
});
```

#### 10.1.2 çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆIntegration Testï¼‰
**å¯¾è±¡ç¯„å›²**ï¼š
- API Routes â‡” Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆé€£æº
- OpenAI API ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†
- Zustand â‡” localStorage åŒæœŸ
- ã‚µã‚¤ãƒˆé–“ãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—

**ãƒ†ã‚¹ãƒˆå®Ÿè£…ä¾‹**ï¼š
```typescript
// __tests__/api/fortune-calc.test.ts
import handler from '@/pages/api/fortune-calc';
import { createMocks } from 'node-mocks-http';

describe('/api/fortune-calc API', () => {
  test('æœ‰åŠ¹ãªç”Ÿå¹´æœˆæ—¥ã§æ­£å¸¸ãªçµæœã‚’è¿”ã™', async () => {
    const { req, res } = createMocks({
      method: 'POST',
      body: { year: 1990, month: 5, day: 15 },
    });

    await handler(req, res);

    expect(res._getStatusCode()).toBe(200);
    const data = JSON.parse(res._getData());
    expect(data.success).toBe(true);
    expect(data.data.age).toBeGreaterThan(0);
    expect(data.data.zodiac).toBeDefined();
    expect(data.data.animal).toBeDefined();
  });

  test('ç„¡åŠ¹ãªæ—¥ä»˜ã§ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™', async () => {
    const { req, res } = createMocks({
      method: 'POST',
      body: { year: 2023, month: 2, day: 30 }, // 2æœˆ30æ—¥ã¯ç„¡åŠ¹
    });

    await handler(req, res);

    expect(res._getStatusCode()).toBe(400);
    const data = JSON.parse(res._getData());
    expect(data.success).toBe(false);
  });
});
```

#### 10.1.3 E2Eãƒ†ã‚¹ãƒˆï¼ˆEnd-to-End Testï¼‰
**å¯¾è±¡ã‚·ãƒŠãƒªã‚ª**ï¼š
- ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Œå…¨åˆ©ç”¨ãƒ•ãƒ­ãƒ¼
- è¨ºæ–­ä¸­æ–­ãƒ»å¾©å¸°ã‚·ãƒŠãƒªã‚ª
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿãƒ»ãƒªãƒˆãƒ©ã‚¤ã‚·ãƒŠãƒªã‚ª
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ç¢ºèª

**ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«**ï¼šPlaywright
**å®Ÿè¡Œç’°å¢ƒ**ï¼šChrome, Safari, Firefox

**ãƒ†ã‚¹ãƒˆå®Ÿè£…ä¾‹**ï¼š
```typescript
// e2e/complete-diagnosis.spec.ts
import { test, expect } from '@playwright/test';

test('å®Œå…¨ãªè¨ºæ–­ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡Œ', async ({ page }) => {
  // ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹
  await page.goto('/cocosil');
  await expect(page.locator('h1')).toContainText('COCOSiL');
  
  // åŸºæœ¬æƒ…å ±å…¥åŠ›
  await page.fill('[name="name"]', 'ãƒ†ã‚¹ãƒˆå¤ªéƒ');
  await page.selectOption('[name="birthYear"]', '1990');
  await page.selectOption('[name="birthMonth"]', '5');
  await page.selectOption('[name="birthDay"]', '15');
  await page.click('button[type="submit"]');
  
  // ç®—å‘½å­¦çµæœã®è¡¨ç¤ºå¾…ã¡
  await expect(page.locator('.fortune-result')).toBeVisible();
  await expect(page.locator('.progress-bar')).toHaveAttribute('data-progress', '20');
  
  // MBTIå…¥åŠ›
  await page.click('button:has-text("æ—¢çŸ¥ã®MBTIã‚’é¸æŠ")');
  await page.selectOption('[name="mbti"]', 'INFP');
  await page.click('button:has-text("æ¬¡ã¸")');
  
  // ä½“ç™–è¨ºæ–­ï¼ˆ20å•ï¼‰
  for (let i = 1; i <= 20; i++) {
    await page.click(`input[name="q${i}"][value="1"]`); // 1ç•ªç›®ã®é¸æŠè‚¢
    if (i < 20) {
      await page.waitForTimeout(500); // æ¬¡ã®è³ªå•ã¸ã®é·ç§»å¾…ã¡
    }
  }
  
  // çµæœè¡¨ç¤ºç¢ºèª
  await expect(page.locator('.taiheki-result')).toBeVisible();
  await expect(page.locator('.progress-bar')).toHaveAttribute('data-progress', '100');
  
  // çµ±åˆçµæœè¡¨ç¤º
  await expect(page.locator('.integrated-result')).toContainText('ãƒ†ã‚¹ãƒˆå¤ªéƒ');
  await expect(page.locator('.integrated-result')).toContainText('INFP');
  await expect(page.locator('.integrated-result')).toContainText('ç¨®');
  
  // ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿é€ä¿¡
  await page.click('button:has-text("ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡")');
  await expect(page.locator('.success-message')).toBeVisible();
});
```

### 10.2 éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆè¦ä»¶

#### 10.2.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
**æ¸¬å®šé …ç›®**ï¼š
- **ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“**ï¼š2ç§’ä»¥å†…ï¼ˆFirst Contentful Paintï¼‰
- **è¨ºæ–­ç®—å‡ºæ™‚é–“**ï¼š3ç§’ä»¥å†…ï¼ˆä½“ç™–è¨ˆç®—å®Œäº†ã¾ã§ï¼‰
- **APIå¿œç­”æ™‚é–“**ï¼š1ç§’ä»¥å†…ï¼ˆç®—å‘½å­¦APIï¼‰
- **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°é–‹å§‹æ™‚é–“**ï¼š5ç§’ä»¥å†…ï¼ˆOpenAIåˆå›ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰

**æ¸¬å®šãƒ„ãƒ¼ãƒ«**ï¼š
- Lighthouseï¼ˆCore Web Vitalsï¼‰
- Chrome DevTools Performance
- Next.js Analytics

**å®Ÿè£…ä¾‹**ï¼š
```typescript
// lib/performance-monitor.ts
export class PerformanceMonitor {
  static measureDiagnosisTime(startTime: number) {
    const endTime = performance.now();
    const duration = endTime - startTime;
    
    // 3ç§’è¶…éã®å ´åˆã¯è­¦å‘Š
    if (duration > 3000) {
      console.warn(`ä½“ç™–è¨ºæ–­æ™‚é–“ãŒç›®æ¨™ã‚’è¶…é: ${duration}ms`);
    }
    
    // åˆ†æç”¨ã«ãƒ‡ãƒ¼ã‚¿é€ä¿¡
    this.sendMetrics('diagnosis_duration', duration);
  }
  
  static measureAPIResponse(endpoint: string, startTime: number) {
    const endTime = performance.now();
    const duration = endTime - startTime;
    
    if (duration > 1000) {
      console.warn(`APIå¿œç­”æ™‚é–“ãŒç›®æ¨™ã‚’è¶…é: ${endpoint} - ${duration}ms`);
    }
    
    this.sendMetrics(`api_response_${endpoint}`, duration);
  }
}
```

#### 10.2.2 è² è·ãƒ†ã‚¹ãƒˆ
**ãƒ†ã‚¹ãƒˆæ¡ä»¶**ï¼š
- **åŒæ™‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**ï¼š50äºº
- **ãƒ†ã‚¹ãƒˆæ™‚é–“**ï¼š30åˆ†é–“
- **å®Ÿè¡Œã‚·ãƒŠãƒªã‚ª**ï¼šå®Œå…¨è¨ºæ–­ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ

**æœŸå¾…çµæœ**ï¼š
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**ï¼š99%ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ3ç§’ä»¥å†…
- **ã‚¨ãƒ©ãƒ¼ç‡**ï¼š1%ä»¥ä¸‹
- **ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ**ï¼š100ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ä»¥ä¸Š

**å®Ÿè£…ãƒ„ãƒ¼ãƒ«**ï¼šk6 ã¾ãŸã¯ Artillery

```javascript
// load-test/diagnosis-flow.js (k6)
import http from 'k6/http';
import { check, sleep } from 'k6';

export let options = {
  vus: 50, // 50åŒæ™‚ãƒ¦ãƒ¼ã‚¶ãƒ¼
  duration: '30m',
};

export default function() {
  // åŸºæœ¬æƒ…å ±é€ä¿¡
  let response = http.post('http://localhost:3000/api/fortune-calc', {
    year: 1990,
    month: 5,
    day: 15
  });
  
  check(response, {
    'fortune API status is 200': (r) => r.status === 200,
    'fortune API response time < 1s': (r) => r.timings.duration < 1000,
  });
  
  sleep(5); // 5ç§’é–“éš”ã§æ¬¡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
}
```

#### 10.2.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

### 10.3 ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆè¦ä»¶

#### 10.3.1 ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
**æº–æ‹ åŸºæº–**ï¼šWCAG 2.1 AA
**ãƒ†ã‚¹ãƒˆé …ç›®**ï¼š
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ**ï¼šTabã‚­ãƒ¼ã§ã®å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼**ï¼šNVDA/VoiceOverã§ã®èª­ã¿ä¸Šã’
- **è‰²è¦šç•°å¸¸**ï¼šè‰²ã®ã¿ã«ä¾å­˜ã—ãªã„æƒ…å ±è¡¨ç¤º
- **ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”**ï¼š4.5:1ä»¥ä¸Šã®ç¢ºä¿

**å®Ÿè£…ç¢ºèªä¾‹**ï¼š
```typescript
// components/ui/Button.tsx
export function Button({ children, ...props }) {
  return (
    <button
      className="
        bg-blue-600 text-white px-4 py-2 rounded
        hover:bg-blue-700 
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        disabled:opacity-50 disabled:cursor-not-allowed
        min-h-[44px] min-w-[44px] // ã‚¿ãƒƒãƒæ“ä½œæœ€å°ã‚µã‚¤ã‚º
      "
      aria-describedby={props['aria-describedby']}
      {...props}
    >
      {children}
    </button>
  );
}
```

#### 10.3.2 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
**ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ‡ãƒã‚¤ã‚¹**ï¼š
- iPhone 14 (390x844)
- iPad Air (820x1180)
- MacBook Pro (1440x900)
- Windows Desktop (1920x1080)

**ç¢ºèªé …ç›®**ï¼š
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚ŒãŒãªã„
- ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ã‚„ã™ã„
- ãƒœã‚¿ãƒ³ãŒã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„
- æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã—ãªã„

### 10.4 ç·åˆå—ã‘å…¥ã‚ŒåŸºæº–

#### 10.4.1 æ©Ÿèƒ½å®Œæˆåº¦åŸºæº–
**å¿…é ˆæ©Ÿèƒ½ï¼ˆ100%å®Ÿè£…å¿…è¦ï¼‰**ï¼š
- [ ] åŸºæœ¬æƒ…å ±å…¥åŠ›ãƒ»ç®—å‘½å­¦è¨ˆç®—
- [ ] MBTIè¨ºæ–­ãƒ»é¸æŠæ©Ÿèƒ½
- [ ] ä½“ç™–è¨ºæ–­20å•ãƒ»ç®—å‡º
- [ ] çµ±åˆçµæœè¡¨ç¤º
- [ ] ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿é€ä¿¡

**é‡è¦æ©Ÿèƒ½ï¼ˆ90%ä»¥ä¸Šå®Ÿè£…ï¼‰**ï¼š
- [ ] OpenAI ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
- [ ] çµæœç”»åƒç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- [ ] ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºãƒ»çŠ¶æ…‹ç®¡ç†
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒªãƒˆãƒ©ã‚¤
- [ ] ç®¡ç†è€…å‘ã‘çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**ä»˜åŠ æ©Ÿèƒ½ï¼ˆ70%ä»¥ä¸Šå®Ÿè£…ï¼‰**ï¼š
- [ ] ä½“ç™–ç†è«–å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- [ ] è¨ºæ–­çµæœã®è©³ç´°è§£èª¬
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½

#### 10.4.2 å“è³ªåŸºæº–
**æ€§èƒ½è¦ä»¶**ï¼š
- [ ] ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“ â‰¤2ç§’
- [ ] è¨ºæ–­ç®—å‡ºæ™‚é–“ â‰¤3ç§’
- [ ] APIå¿œç­”æ™‚é–“ â‰¤1ç§’
- [ ] åŒæ™‚æ¥ç¶š50äººå¯¾å¿œ

**ä¿¡é ¼æ€§è¦ä»¶**ï¼š
- [ ] ç¨¼åƒç‡ â‰¥99%
- [ ] ã‚¨ãƒ©ãƒ¼ç‡ â‰¤1%
- [ ] ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§100%

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**ï¼š
- [ ] å€‹äººæƒ…å ±æš—å·åŒ–100%
- [ ] XSS/CSRFå¯¾ç­–å®Ÿè£…
- [ ] HTTPSé€šä¿¡100%

#### 10.4.3 æ¤œè¨¼é–‹å§‹åˆ¤å®šåŸºæº–
**æŠ€è¡“è¦ä»¶**ï¼š
- [ ] å…¨æ©Ÿèƒ½ã®E2Eãƒ†ã‚¹ãƒˆé€šé
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆåˆæ ¼
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆåˆæ ¼
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆåˆæ ¼

**é‹ç”¨è¦ä»¶**ï¼š
- [ ] é‹ç”¨æ‰‹é †æ›¸å®Œæˆ
- [ ] éšœå®³å¯¾å¿œæ‰‹é †å®Œæˆ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½“åˆ¶æ§‹ç¯‰
- [ ] ç®¡ç†è€…å‘ã‘ãƒãƒ‹ãƒ¥ã‚¢ãƒ«å®Œæˆ

**æ³•å‹™è¦ä»¶**ï¼š
- [ ] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ç­–å®š
- [ ] åˆ©ç”¨è¦ç´„ç­–å®š
- [ ] å€‹äººæƒ…å ±ç®¡ç†ä½“åˆ¶æ§‹ç¯‰

## 11. å¤‰æ›´ç®¡ç†ãƒ»ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ãƒãƒˆãƒªã‚¯ã‚¹

### 11.1 è¦ä»¶ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£

#### 11.1.1 ãƒ“ã‚¸ãƒã‚¹è¦æ±‚â†’æ©Ÿèƒ½è¦ä»¶ãƒãƒƒãƒ”ãƒ³ã‚°

| ãƒ“ã‚¸ãƒã‚¹è¦æ±‚ID | ãƒ“ã‚¸ãƒã‚¹è¦æ±‚ | æ©Ÿèƒ½è¦ä»¶ID | æ©Ÿèƒ½è¦ä»¶ | å®Ÿè£…çŠ¶æ³ |
|----------------|-------------|------------|----------|----------|
| BR-001 | ä½“ç™–ãƒ»MBTIãƒ»ç®—å‘½å­¦ã®çµ±åˆè¨ºæ–­ | F001-3, F002-1, F002-2 | çµ±åˆçµæœè¡¨ç¤ºã€ä½“ç™–è¨ºæ–­ã€çµæœè©³ç´°è¡¨ç¤º | æœªå®Ÿè£… |
| BR-002 | Claude AIå‘ã‘ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ | F001-3, F004-3 | ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã€AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ | æœªå®Ÿè£… |
| BR-003 | ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿åé›† | F001-1, F001-2, F004-1 | åŸºæœ¬æƒ…å ±å…¥åŠ›ã€MBTIåé›†ã€ãƒ‡ãƒ¼ã‚¿ç®¡ç† | æœªå®Ÿè£… |
| BR-004 | 4ã‚µã‚¤ãƒˆé€£æºã‚·ã‚¹ãƒ†ãƒ  | F005-1, F005-2 | çµ±ä¸€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ‡ãƒ¼ã‚¿å¼•ãç¶™ã | æœªå®Ÿè£… |
| BR-005 | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·å¾¹åº• | NF-003, NF-007 | ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–ã€å‰Šé™¤æ©Ÿèƒ½ | æœªå®Ÿè£… |

#### 11.1.2 æ©Ÿèƒ½è¦ä»¶â†’è¨­è¨ˆãƒ»å®Ÿè£…ãƒãƒƒãƒ”ãƒ³ã‚°

| æ©Ÿèƒ½è¦ä»¶ID | æ©Ÿèƒ½è¦ä»¶ | è¨­è¨ˆæ›¸ID | è¨­è¨ˆæ›¸ | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ« | ãƒ†ã‚¹ãƒˆID |
|------------|----------|----------|--------|-------------|----------|
| F001-1 | åŸºæœ¬æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  | DS-001 | ãƒ•ã‚©ãƒ¼ãƒ è¨­è¨ˆ | `components/forms/BasicInfoForm.tsx` | UT-001, IT-001 |
| F001-2 | MBTIæƒ…å ±åé›† | DS-002 | MBTIè¨ºæ–­è¨­è¨ˆ | `components/forms/MBTIForm.tsx` | UT-002, IT-002 |
| F002-1 | ä½“ç™–è¨ºæ–­ãƒ•ãƒ­ãƒ¼ | DS-003 | ä½“ç™–ç®—å‡ºè¨­è¨ˆ | `lib/taiheki-calculator.ts` | UT-003, IT-003 |
| F004-3 | Claude AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ | DS-004 | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ | `lib/prompt-generator.ts` | UT-004 |

#### 11.1.3 éæ©Ÿèƒ½è¦ä»¶â†’å®Ÿè£…ãƒãƒƒãƒ”ãƒ³ã‚°

| éæ©Ÿèƒ½è¦ä»¶ID | è¦ä»¶ | å®Ÿè£…æ–¹å¼ | æ¤œè¨¼æ–¹æ³• |
|-------------|------|----------|----------|
| NF-001 | ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“â‰¤2ç§’ | Next.jsæœ€é©åŒ–ã€ç”»åƒæœ€é©åŒ– | Lighthouseã€Performance API |
| NF-002 | åŒæ™‚æ¥ç¶š50äººå¯¾å¿œ | é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆã€CDNåˆ©ç”¨ | k6è² è·ãƒ†ã‚¹ãƒˆ |
| NF-003 | å€‹äººæƒ…å ±æš—å·åŒ– | crypto-jsã€localStorageæš—å·åŒ– | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ |
| NF-004 | WCAG 2.1 AAæº–æ‹  | aria-labelã€semantic HTML | axe-coreã€æ‰‹å‹•ãƒ†ã‚¹ãƒˆ |

### 11.2 å¤‰æ›´ç®¡ç†ãƒ—ãƒ­ã‚»ã‚¹

#### 11.2.1 å¤‰æ›´è¦æ±‚ãƒ—ãƒ­ã‚»ã‚¹
```mermaid
graph TD
    A[å¤‰æ›´è¦æ±‚æèµ·] --> B{å½±éŸ¿åº¦è©•ä¾¡}
    B -->|é«˜| C[è©³ç´°å½±éŸ¿åˆ†æ]
    B -->|ä¸­| D[ç°¡æ˜“å½±éŸ¿åˆ†æ]  
    B -->|ä½| E[å³æ™‚å¯¾å¿œ]
    C --> F[æ‰¿èªä¼šè­°]
    D --> G[è²¬ä»»è€…æ‰¿èª]
    E --> H[å®Ÿè£…]
    F -->|æ‰¿èª| H
    F -->|å´ä¸‹| I[è¦æ±‚è€…é€šçŸ¥]
    G -->|æ‰¿èª| H
    G -->|å´ä¸‹| I
    H --> J[ãƒ†ã‚¹ãƒˆ]
    J --> K[ãƒªãƒªãƒ¼ã‚¹]
```

#### 11.2.2 å¤‰æ›´å½±éŸ¿åº¦åˆ†é¡

| å½±éŸ¿åº¦ | å®šç¾© | ä¾‹ | æ‰¿èªè€… | æœŸé–“ |
|--------|------|-----|--------|------|
| é«˜ | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å½±éŸ¿ | æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å¤‰æ›´ | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè²¬ä»»è€… | 5å–¶æ¥­æ—¥ |
| ä¸­ | æ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´ã€ä»–æ©Ÿèƒ½ã¸ã®å½±éŸ¿ | æ–°è¨ºæ–­é …ç›®è¿½åŠ  | é–‹ç™ºãƒªãƒ¼ãƒ€ãƒ¼ | 2å–¶æ¥­æ—¥ |
| ä½ | ãƒã‚°ä¿®æ­£ã€UIæ”¹å–„ | ãƒœã‚¿ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´ | é–‹ç™ºè€…åˆ¤æ–­ | å³æ—¥ |

#### 11.2.3 å¤‰æ›´å±¥æ­´ç®¡ç†

| ç‰ˆæ•° | æ—¥ä»˜ | å¤‰æ›´è€… | å¤‰æ›´æ¦‚è¦ | å½±éŸ¿ç¯„å›² | æ‰¿èªè€… |
|------|------|--------|----------|----------|--------|
| 1.0 | 2025-01-15 | Claude | åˆç‰ˆä½œæˆ | å…¨ä½“ | - |
| 1.1 | 2025-01-20 | Claude | Mermaidå›³åæ˜ ã«ã‚ˆã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ | æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å…¨èˆ¬ | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè²¬ä»»è€… |

### 11.3 å“è³ªã‚²ãƒ¼ãƒˆç®¡ç†

#### 11.3.1 ãƒ•ã‚§ãƒ¼ã‚ºã‚²ãƒ¼ãƒˆåŸºæº–

**Phase 1å®Œäº†åŸºæº–ï¼ˆWeek 4ï¼‰**ï¼š
- [ ] 4ã‚µã‚¤ãƒˆã®åŸºæœ¬æ§‹é€ å®Ÿè£…å®Œäº†
- [ ] çµ±ä¸€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ é©ç”¨å®Œäº†  
- [ ] ã‚µã‚¤ãƒˆé–“ãƒ‡ãƒ¼ã‚¿é€£æºå‹•ä½œç¢ºèª
- [ ] åŸºæœ¬æƒ…å ±å…¥åŠ›ãƒ»ç®—å‘½å­¦è¨ˆç®—å‹•ä½œç¢ºèª
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè£…ãƒ»åˆæ ¼
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†

**Phase 2å®Œäº†åŸºæº–ï¼ˆWeek 7ï¼‰**ï¼š
- [ ] ä½“ç™–è¨ºæ–­ãƒ»MBTIè¨ºæ–­æ©Ÿèƒ½å®Œæˆ
- [ ] OpenAI APIé€£æºå®Ÿè£…ãƒ»å‹•ä½œç¢ºèª
- [ ] çµ±åˆçµæœè¡¨ç¤ºæ©Ÿèƒ½å®Œæˆ
- [ ] ç®¡ç†è€…å‘ã‘ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºæœ¬æ©Ÿèƒ½å®Œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆåˆæ ¼
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆåŸºæº–é”æˆ

**Phase 3å®Œäº†åŸºæº–ï¼ˆWeek 10ï¼‰**ï¼š
- [ ] å…¨æ©Ÿèƒ½ã®å“è³ªåŸºæº–é”æˆ
- [ ] E2Eãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªå…¨é€šé
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆåˆæ ¼
- [ ] é‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™å®Œäº†
- [ ] æ¤œè¨¼é–‹å§‹åˆ¤å®šåŸºæº–å…¨é …ç›®ã‚¯ãƒªã‚¢

#### 11.2.2 ç¶™ç¶šçš„å“è³ªç®¡ç†

**æ—¥æ¬¡ãƒã‚§ãƒƒã‚¯é …ç›®**ï¼š
- [ ] è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œçµæœç¢ºèª
- [ ] ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª

**é€±æ¬¡ãƒã‚§ãƒƒã‚¯é …ç›®**ï¼š
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèªï¼ˆç›®æ¨™80%ï¼‰
- [ ] æŠ€è¡“çš„è² å‚µãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] é€²æ—å¯¾ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¢ºèª
- [ ] ãƒªã‚¹ã‚¯é …ç›®è¦‹ç›´ã—

---

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"content": "ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶å®šç¾©æ›¸ã‚’åŸºã«è©³ç´°è¦ä»¶å®šç¾©æ›¸ã‚’ä½œæˆã™ã‚‹", "status": "completed", "activeForm": "è©³ç´°è¦ä»¶å®šç¾©æ›¸ã‚’ä½œæˆä¸­"}]