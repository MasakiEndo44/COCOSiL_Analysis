# Database connection (PostgreSQL for production)
# Transaction pooler (port 6543) - Add ?pgbouncer=true for PgBouncer compatibility
# Example: postgresql://postgres.PROJECT_REF:PASSWORD@aws-0-REGION.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1
DATABASE_URL=postgresql://postgres:password@localhost:5432/cocosil

# Direct connection (port 5432) - For Prisma migrations only
# Example: postgresql://postgres.PROJECT_REF:PASSWORD@aws-0-REGION.pooler.supabase.com:5432/postgres
DIRECT_URL=postgresql://postgres:password@localhost:5432/cocosil

# OpenAI API Key for AI analysis and summary generation
OPENAI_API_KEY=your_openai_api_key_here

# Admin authentication password (4 digits minimum, 8+ chars recommended for production)
ADMIN_PASSWORD=1234

# Password reset token (optional, required for /api/admin/reset-password endpoint)
# Generate secure token: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Remove after initial password reset for security
RESET_TOKEN=your-secure-random-token-here-min-32-chars

# ============================================================
# Clerk Authentication (Phase 1)
# ============================================================

# Clerk API Keys (get from Clerk Dashboard: https://clerk.com)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk UI Configuration
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/diagnosis
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/diagnosis

# Clerk Webhook Secret (get from Clerk Dashboard â†’ Webhooks)
# Required for user.deleted event handling (30-day auto-deletion)
CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Cron Job Authentication Secret (generate random secure token)
# Required for /api/cron/delete-expired-diagnoses endpoint
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET=your-cron-secret-token-here-min-64-chars