# 体癖診断精度向上 - 即時実行計画

## 🎯 プロジェクト目標
**10種体癖診断システムで85%以上の精度達成**

## 📋 フェーズ別実行計画

### ✅ Phase 1: 基盤完成 (完了)
- [x] 現状システム分析（4種のみ判明）
- [x] ペルソナフレームワーク設計
- [x] サンプルペルソナ4種作成
- [x] テストハーネス構築
- [x] デモシステム作成

### 🔄 Phase 2: システム拡張 (次の優先事項)

#### 2.1 体癖5-10種理論研究 (5日間)
**実行内容**:
```bash
# 研究タスク
1. 野口整体文献調査
   - 5-6種: 前後型（積極・消極）
   - 7-8種: 捻れ型（創造・自由）
   - 9-10種: 開閉型（調和・独創）

2. 各体癖の特徴定義
   - 身体的特徴
   - 心理的パターン
   - 行動傾向
   - ストレス反応
```

#### 2.2 拡張アルゴリズム設計 (3日間)
**技術実装**:
```typescript
// 拡張された質問システム
interface ExtendedTaihekiQuestion {
  id: number;
  question: string;
  choices: Array<{
    text: string;
    taihekiType: 1|2|3|4|5|6|7|8|9|10;
    weight: number;
    category: '上下'|'左右'|'前後'|'捻れ'|'開閉';
  }>;
  discriminationTarget: TaihekiType[]; // この質問で判別したい型
}

// 新質問例
newQuestions = [
  {
    question: "行動を起こすとき、どのようなパターンですか？",
    choices: [
      { text: "積極的にすぐ行動に移す", taihekiType: 5, category: '前後' },
      { text: "慎重に考えてから行動する", taihekiType: 6, category: '前後' },
      { text: "創造的なアプローチで行動", taihekiType: 7, category: '捻れ' },
      { text: "自由な発想で行動する", taihekiType: 8, category: '捻れ' }
    ]
  }
];
```

### 🚀 Phase 3: ペルソナ拡張 (1週間)

#### 3.1 体癖5-10種ペルソナ作成
**各体癖2-3バリエーション作成**:

```yaml
# 5種ペルソナ例
persona_5a:
  name: "営業部長・前田健太"
  traits: ["行動力", "積極性", "リーダーシップ"]
  responses: [5種選択肢を優先的に選択]

# 6種ペルソナ例  
persona_6a:
  name: "経理部・安田静香"
  traits: ["慎重さ", "継続力", "安定性"]
  responses: [6種選択肢を優先的に選択]
```

#### 3.2 境界ケースペルソナ
**混合型・判別困難ケース**:
- 1-2種境界（論理と感情の中間）
- 3-4種境界（分析と協調の中間）
- 5-6種境界（積極と慎重の中間）

### 📊 Phase 4: 系統的テスト (1週間)

#### 4.1 ベースライン測定
```bash
# 実行コマンド
npm run persona-test:baseline
# 期待結果: 現状精度の定量化
```

#### 4.2 拡張システムテスト
```bash
# 10種完全テスト
npm run persona-test:full-10types
# 目標: 各型80%以上の精度
```

#### 4.3 統計分析
- 混同行列生成
- 判別困難な型ペア特定
- 質問ごとの判別力分析

### 🔧 Phase 5: アルゴリズム最適化 (2週間)

#### 5.1 重み調整最適化
```python
# 機械学習による最適化
from sklearn.ensemble import RandomForestClassifier

# 重要度ベースの重み調整
feature_importance = model.feature_importances_
optimized_weights = convert_to_taiheki_weights(feature_importance)
```

#### 5.2 質問改善
- 判別力の低い質問の改良
- 新質問の追加
- 選択肢の文言最適化

### ✅ Phase 6: 検証・デプロイ (1週間)

#### 6.1 クロスバリデーション
- 新規ペルソナセットでの検証
- 専門家レビュー
- A/Bテスト設計

#### 6.2 本番デプロイ
- 段階的リリース
- モニタリング設定
- ロールバック準備

## 📅 今週の具体的アクション

### 🎯 今日実行すべきタスク
1. **Phase 2開始**: 体癖5-10種の理論研究
2. **文献調査**: 野口整体の原典から5-10種の特徴抽出
3. **アーキテクチャ設計**: 10種対応システムの設計書作成

### 📋 今週末までの目標
- [ ] 体癖5-10種の特徴定義完成
- [ ] 拡張質問セット第一版作成 
- [ ] 5-10種ペルソナの基本形作成
- [ ] 拡張アルゴリズムのプロトタイプ実装

### 📊 来週の目標
- [ ] 10種完全対応システムの実装
- [ ] 全30体ペルソナ（各型3体）の作成完了
- [ ] ベースライン測定とギャップ分析

## 🛠 技術実装の優先順位

### 高優先度 (今週中)
1. `src/lib/data/taiheki-questions-extended.ts` - 拡張質問セット
2. `src/lib/data/taiheki-calculator-v2.ts` - 10種対応アルゴリズム
3. `scripts/persona-tester/personas/extended-personas.ts` - 5-10種ペルソナ

### 中優先度 (来週中)  
1. 統計分析ツール
2. 最適化エンジン
3. 検証フレームワーク

### 低優先度 (再来週)
1. UI/UX改善
2. パフォーマンス最適化
3. ドキュメント整備

## 📊 成功指標

### 定量指標
- **全体精度**: 85%以上 (現状推定: 60-70%)
- **型別精度**: 全10型で80%以上
- **信頼度精度**: 信頼度と実際精度の相関0.8以上

### 定性指標
- **理論整合性**: 体癖理論専門家による承認
- **ユーザー満足度**: 診断結果への納得感
- **システム安定性**: エラー率<0.1%

## ⚠️ リスク要因と対策

### 技術リスク
- **過適合**: クロスバリデーションで緩和
- **性能劣化**: 段階的デプロイで確認
- **複雑化**: モジュール設計で管理

### 運用リスク  
- **理論解釈**: 専門家監修で担保
- **文化バイアス**: 多角的検証で補正
- **ユーザー混乱**: 段階的導入で対応

## 🔄 進捗管理

### 週次チェックポイント
- 月曜: 前週振り返り + 今週計画
- 水曜: 中間進捗確認 + 課題対応
- 金曜: 週次成果まとめ + 来週準備

### マイルストーン
- **Week 1**: 10種システム基盤完成
- **Week 2**: ペルソナテスト完了
- **Week 3**: 最適化実装完了  
- **Week 4**: 検証・デプロイ完了

---

**次のアクション**: 野口整体の文献から体癖5-10種の特徴を抽出し、拡張アルゴリズムの設計を開始する。